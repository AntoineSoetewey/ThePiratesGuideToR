<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>YaRrr! The Pirate’s Guide to R</title>
  <meta name="description" content="An introductory book to R written by, and for, R pirates">
  <meta name="generator" content="bookdown 0.3.9 and GitBook 2.6.7">

  <meta property="og:title" content="YaRrr! The Pirate’s Guide to R" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://bookdown.org/ndphillips/YaRrr/" />
  <meta property="og:image" content="https://bookdown.org/ndphillips/YaRrr/images/YaRrr_Cover.jpg" />
  <meta property="og:description" content="An introductory book to R written by, and for, R pirates" />
  <meta name="github-repo" content="ndphillips/ThePiratesGuideToR" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="YaRrr! The Pirate’s Guide to R" />
  
  <meta name="twitter:description" content="An introductory book to R written by, and for, R pirates" />
  <meta name="twitter:image" content="https://bookdown.org/ndphillips/YaRrr/images/YaRrr_Cover.jpg" />

<meta name="author" content="Nathaniel D. Phillips">


<meta name="date" content="2017-02-27">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="matricesdataframes.html">
<link rel="next" href="advanceddataframe.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">YaRrr! The Pirate's Guide to R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#where-did-this-book-come-from"><i class="fa fa-check"></i><b>1.1</b> Where did this book come from?</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#who-is-this-book-for"><i class="fa fa-check"></i><b>1.2</b> Who is this book for?</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#why-is-r-so-great"><i class="fa fa-check"></i><b>1.3</b> Why is R so great?</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#rrelationship"><i class="fa fa-check"></i><b>1.4</b> Why R is like a relationship…</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#r-resources"><i class="fa fa-check"></i><b>1.5</b> R resources</a><ul>
<li class="chapter" data-level="1.5.1" data-path="index.html"><a href="index.html#r-cheatsheets"><i class="fa fa-check"></i><b>1.5.1</b> R Cheatsheets</a></li>
<li class="chapter" data-level="1.5.2" data-path="index.html"><a href="index.html#getting-r-help-and-inspiration-online"><i class="fa fa-check"></i><b>1.5.2</b> Getting R help and inspiration online</a></li>
<li class="chapter" data-level="1.5.3" data-path="index.html"><a href="index.html#other-r-books"><i class="fa fa-check"></i><b>1.5.3</b> Other R books</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#who-am-i"><i class="fa fa-check"></i><b>1.6</b> Who am I?</a><ul>
<li class="chapter" data-level="1.6.1" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i><b>1.6.1</b> Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="index.html"><a href="index.html#please-contribute"><i class="fa fa-check"></i><b>1.7</b> Please Contribute!</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="started.html"><a href="started.html"><i class="fa fa-check"></i><b>2</b> Getting Started</a><ul>
<li class="chapter" data-level="2.1" data-path="started.html"><a href="started.html#installing-base-r-and-rstudio"><i class="fa fa-check"></i><b>2.1</b> Installing Base-R and RStudio</a><ul>
<li class="chapter" data-level="2.1.1" data-path="started.html"><a href="started.html#check-for-version-updates"><i class="fa fa-check"></i><b>2.1.1</b> Check for version updates</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="started.html"><a href="started.html#the-four-rstudio-windows"><i class="fa fa-check"></i><b>2.2</b> The four RStudio Windows</a><ul>
<li class="chapter" data-level="2.2.1" data-path="started.html"><a href="started.html#source---your-notepad-for-code"><i class="fa fa-check"></i><b>2.2.1</b> Source - Your notepad for code</a></li>
<li class="chapter" data-level="2.2.2" data-path="started.html"><a href="started.html#console-rs-heart"><i class="fa fa-check"></i><b>2.2.2</b> Console: R’s Heart</a></li>
<li class="chapter" data-level="2.2.3" data-path="started.html"><a href="started.html#environment-history"><i class="fa fa-check"></i><b>2.2.3</b> Environment / History</a></li>
<li class="chapter" data-level="2.2.4" data-path="started.html"><a href="started.html#files-plots-packages-help"><i class="fa fa-check"></i><b>2.2.4</b> Files / Plots / Packages / Help</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="started.html"><a href="started.html#packages"><i class="fa fa-check"></i><b>2.3</b> Packages</a><ul>
<li class="chapter" data-level="2.3.1" data-path="started.html"><a href="started.html#installing-a-new-package"><i class="fa fa-check"></i><b>2.3.1</b> Installing a new package</a></li>
<li class="chapter" data-level="2.3.2" data-path="started.html"><a href="started.html#loading-a-package"><i class="fa fa-check"></i><b>2.3.2</b> Loading a package</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="started.html"><a href="started.html#reading-and-writing-code"><i class="fa fa-check"></i><b>2.4</b> Reading and writing Code</a><ul>
<li class="chapter" data-level="2.4.1" data-path="started.html"><a href="started.html#code-chunks"><i class="fa fa-check"></i><b>2.4.1</b> Code Chunks</a></li>
<li class="chapter" data-level="2.4.2" data-path="started.html"><a href="started.html#comments-with"><i class="fa fa-check"></i><b>2.4.2</b> Comments with #</a></li>
<li class="chapter" data-level="2.4.3" data-path="started.html"><a href="started.html#element-numbers-in-output-1"><i class="fa fa-check"></i><b>2.4.3</b> Element numbers in output [1]</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="started.html"><a href="started.html#debugging"><i class="fa fa-check"></i><b>2.5</b> Debugging</a><ul>
<li class="chapter" data-level="2.5.1" data-path="started.html"><a href="started.html#r-is-not-ready"><i class="fa fa-check"></i><b>2.5.1</b> R is not ready (&gt;)</a></li>
<li class="chapter" data-level="2.5.2" data-path="started.html"><a href="started.html#misspelled-object-or-function"><i class="fa fa-check"></i><b>2.5.2</b> Misspelled object or function</a></li>
<li class="chapter" data-level="2.5.3" data-path="started.html"><a href="started.html#punctuation-problems"><i class="fa fa-check"></i><b>2.5.3</b> Punctuation problems</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="jumpin.html"><a href="jumpin.html"><i class="fa fa-check"></i><b>3</b> Jump In!</a><ul>
<li class="chapter" data-level="3.1" data-path="jumpin.html"><a href="jumpin.html#exploring-data"><i class="fa fa-check"></i><b>3.1</b> Exploring data</a></li>
<li class="chapter" data-level="3.2" data-path="jumpin.html"><a href="jumpin.html#descriptive-statistics"><i class="fa fa-check"></i><b>3.2</b> Descriptive statistics</a></li>
<li class="chapter" data-level="3.3" data-path="jumpin.html"><a href="jumpin.html#plotting"><i class="fa fa-check"></i><b>3.3</b> Plotting</a></li>
<li class="chapter" data-level="3.4" data-path="jumpin.html"><a href="jumpin.html#hypothesis-tests"><i class="fa fa-check"></i><b>3.4</b> Hypothesis tests</a></li>
<li class="chapter" data-level="3.5" data-path="jumpin.html"><a href="jumpin.html#regression"><i class="fa fa-check"></i><b>3.5</b> Regression</a></li>
<li class="chapter" data-level="3.6" data-path="jumpin.html"><a href="jumpin.html#bayesian-statistics"><i class="fa fa-check"></i><b>3.6</b> Bayesian Statistics</a></li>
<li class="chapter" data-level="3.7" data-path="jumpin.html"><a href="jumpin.html#wasnt-that-easy"><i class="fa fa-check"></i><b>3.7</b> Wasn’t that easy?!</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="basics.html"><a href="basics.html"><i class="fa fa-check"></i><b>4</b> The Basics</a><ul>
<li class="chapter" data-level="4.1" data-path="basics.html"><a href="basics.html#the-command-line-console"><i class="fa fa-check"></i><b>4.1</b> The command-line (Console)</a></li>
<li class="chapter" data-level="4.2" data-path="basics.html"><a href="basics.html#writing-r-scripts-in-an-editor"><i class="fa fa-check"></i><b>4.2</b> Writing R scripts in an editor</a><ul>
<li class="chapter" data-level="4.2.1" data-path="basics.html"><a href="basics.html#send-code-from-an-source-to-the-console"><i class="fa fa-check"></i><b>4.2.1</b> Send code from an source to the console</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="basics.html"><a href="basics.html#a-brief-style-guide-commenting-and-spacing"><i class="fa fa-check"></i><b>4.3</b> A brief style guide: Commenting and spacing</a><ul>
<li class="chapter" data-level="4.3.1" data-path="basics.html"><a href="basics.html#commenting-code-with-the-pound-sign"><i class="fa fa-check"></i><b>4.3.1</b> Commenting code with the # (pound) sign</a></li>
<li class="chapter" data-level="4.3.2" data-path="basics.html"><a href="basics.html#spacing"><i class="fa fa-check"></i><b>4.3.2</b> Spacing</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="basics.html"><a href="basics.html#objects-and-functions"><i class="fa fa-check"></i><b>4.4</b> Objects and functions</a><ul>
<li class="chapter" data-level="4.4.1" data-path="basics.html"><a href="basics.html#numbers-versus-characters"><i class="fa fa-check"></i><b>4.4.1</b> Numbers versus characters</a></li>
<li class="chapter" data-level="4.4.2" data-path="basics.html"><a href="basics.html#creating-new-objects-with--"><i class="fa fa-check"></i><b>4.4.2</b> Creating new objects with &lt;-</a></li>
<li class="chapter" data-level="4.4.3" data-path="basics.html"><a href="basics.html#how-to-name-objects"><i class="fa fa-check"></i><b>4.4.3</b> How to name objects</a></li>
<li class="chapter" data-level="4.4.4" data-path="basics.html"><a href="basics.html#example-pirates-of-the-caribbean"><i class="fa fa-check"></i><b>4.4.4</b> Example: Pirates of The Caribbean</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="basics.html"><a href="basics.html#test-your-r-might"><i class="fa fa-check"></i><b>4.5</b> Test your R might!</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="scalersvectors.html"><a href="scalersvectors.html"><i class="fa fa-check"></i><b>5</b> Scalers and vectors</a><ul>
<li class="chapter" data-level="5.1" data-path="scalersvectors.html"><a href="scalersvectors.html#scalars"><i class="fa fa-check"></i><b>5.1</b> Scalars</a></li>
<li class="chapter" data-level="5.2" data-path="scalersvectors.html"><a href="scalersvectors.html#vectors"><i class="fa fa-check"></i><b>5.2</b> Vectors</a><ul>
<li class="chapter" data-level="5.2.1" data-path="scalersvectors.html"><a href="scalersvectors.html#ab"><i class="fa fa-check"></i><b>5.2.1</b> a:b</a></li>
<li class="chapter" data-level="5.2.2" data-path="scalersvectors.html"><a href="scalersvectors.html#seq"><i class="fa fa-check"></i><b>5.2.2</b> seq()</a></li>
<li class="chapter" data-level="5.2.3" data-path="scalersvectors.html"><a href="scalersvectors.html#rep"><i class="fa fa-check"></i><b>5.2.3</b> rep()</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="scalersvectors.html"><a href="scalersvectors.html#generating-random-data"><i class="fa fa-check"></i><b>5.3</b> Generating random data</a><ul>
<li class="chapter" data-level="5.3.1" data-path="scalersvectors.html"><a href="scalersvectors.html#sample"><i class="fa fa-check"></i><b>5.3.1</b> sample()</a></li>
<li class="chapter" data-level="5.3.2" data-path="scalersvectors.html"><a href="scalersvectors.html#normal-gaussian"><i class="fa fa-check"></i><b>5.3.2</b> Normal (Gaussian)</a></li>
<li class="chapter" data-level="5.3.3" data-path="scalersvectors.html"><a href="scalersvectors.html#uniform"><i class="fa fa-check"></i><b>5.3.3</b> Uniform</a></li>
<li class="chapter" data-level="5.3.4" data-path="scalersvectors.html"><a href="scalersvectors.html#notes-on-random-samples"><i class="fa fa-check"></i><b>5.3.4</b> Notes on random samples</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="scalersvectors.html"><a href="scalersvectors.html#test-your-r-might-1"><i class="fa fa-check"></i><b>5.4</b> Test your R might!</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="vectorfunctions.html"><a href="vectorfunctions.html"><i class="fa fa-check"></i><b>6</b> Vector functions</a><ul>
<li class="chapter" data-level="6.1" data-path="vectorfunctions.html"><a href="vectorfunctions.html#arithmetic-operations-on-vectors"><i class="fa fa-check"></i><b>6.1</b> Arithmetic operations on vectors</a><ul>
<li class="chapter" data-level="6.1.1" data-path="vectorfunctions.html"><a href="vectorfunctions.html#basic-math-with-multiple-vectors"><i class="fa fa-check"></i><b>6.1.1</b> Basic math with multiple vectors</a></li>
<li class="chapter" data-level="6.1.2" data-path="vectorfunctions.html"><a href="vectorfunctions.html#ex-pirate-bake-sale"><i class="fa fa-check"></i><b>6.1.2</b> Ex: Pirate Bake Sale</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="vectorfunctions.html"><a href="vectorfunctions.html#summary-statistics"><i class="fa fa-check"></i><b>6.2</b> Summary statistics</a><ul>
<li class="chapter" data-level="6.2.1" data-path="vectorfunctions.html"><a href="vectorfunctions.html#length"><i class="fa fa-check"></i><b>6.2.1</b> length()</a></li>
<li class="chapter" data-level="6.2.2" data-path="vectorfunctions.html"><a href="vectorfunctions.html#additional-numeric-vector-functions"><i class="fa fa-check"></i><b>6.2.2</b> Additional numeric vector functions</a></li>
<li class="chapter" data-level="6.2.3" data-path="vectorfunctions.html"><a href="vectorfunctions.html#sample-statistics-from-random-samples"><i class="fa fa-check"></i><b>6.2.3</b> Sample statistics from random samples</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="vectorfunctions.html"><a href="vectorfunctions.html#counting-statistics"><i class="fa fa-check"></i><b>6.3</b> Counting statistics</a></li>
<li class="chapter" data-level="6.4" data-path="vectorfunctions.html"><a href="vectorfunctions.html#missing-na-values"><i class="fa fa-check"></i><b>6.4</b> Missing (NA) values</a></li>
<li class="chapter" data-level="6.5" data-path="vectorfunctions.html"><a href="vectorfunctions.html#standardization-z-score"><i class="fa fa-check"></i><b>6.5</b> Standardization (z-score)</a><ul>
<li class="chapter" data-level="6.5.1" data-path="vectorfunctions.html"><a href="vectorfunctions.html#ex-evaluating-a-competition"><i class="fa fa-check"></i><b>6.5.1</b> Ex: Evaluating a competition</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="vectorfunctions.html"><a href="vectorfunctions.html#test-your-r-might-2"><i class="fa fa-check"></i><b>6.6</b> Test your R Might!</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="vectorindexing.html"><a href="vectorindexing.html"><i class="fa fa-check"></i><b>7</b> Indexing Vectors with [ ]</a><ul>
<li class="chapter" data-level="7.1" data-path="vectorindexing.html"><a href="vectorindexing.html#numerical-indexing"><i class="fa fa-check"></i><b>7.1</b> Numerical Indexing</a></li>
<li class="chapter" data-level="7.2" data-path="vectorindexing.html"><a href="vectorindexing.html#logical-indexing"><i class="fa fa-check"></i><b>7.2</b> Logical Indexing</a><ul>
<li class="chapter" data-level="7.2.1" data-path="vectorindexing.html"><a href="vectorindexing.html#and-or-in"><i class="fa fa-check"></i><b>7.2.1</b> <code>&amp;</code> (and), <code>|</code> (or), <code>%in%</code></a></li>
<li class="chapter" data-level="7.2.2" data-path="vectorindexing.html"><a href="vectorindexing.html#counts-and-percentages-from-logical-vectors"><i class="fa fa-check"></i><b>7.2.2</b> Counts and percentages from logical vectors</a></li>
<li class="chapter" data-level="7.2.3" data-path="vectorindexing.html"><a href="vectorindexing.html#additional-logical-functions"><i class="fa fa-check"></i><b>7.2.3</b> Additional Logical functions</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="vectorindexing.html"><a href="vectorindexing.html#changing-values-of-a-vector"><i class="fa fa-check"></i><b>7.3</b> Changing values of a vector</a><ul>
<li class="chapter" data-level="7.3.1" data-path="vectorindexing.html"><a href="vectorindexing.html#ex-fixing-invalid-responses-to-a-happiness-survey"><i class="fa fa-check"></i><b>7.3.1</b> Ex: Fixing invalid responses to a Happiness survey</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="vectorindexing.html"><a href="vectorindexing.html#test-your-r-might-movie-data"><i class="fa fa-check"></i><b>7.4</b> Test your R Might!: Movie data</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="matricesdataframes.html"><a href="matricesdataframes.html"><i class="fa fa-check"></i><b>8</b> Matrices and Dataframes</a><ul>
<li class="chapter" data-level="8.1" data-path="matricesdataframes.html"><a href="matricesdataframes.html#what-are-matrices-and-dataframes"><i class="fa fa-check"></i><b>8.1</b> What are matrices and dataframes?</a></li>
<li class="chapter" data-level="8.2" data-path="matricesdataframes.html"><a href="matricesdataframes.html#creating-matrices-and-dataframes"><i class="fa fa-check"></i><b>8.2</b> Creating matrices and dataframes</a><ul>
<li class="chapter" data-level="8.2.1" data-path="matricesdataframes.html"><a href="matricesdataframes.html#cbind-rbind"><i class="fa fa-check"></i><b>8.2.1</b> <code>cbind()</code>, <code>rbind()</code></a></li>
<li class="chapter" data-level="8.2.2" data-path="matricesdataframes.html"><a href="matricesdataframes.html#matrix"><i class="fa fa-check"></i><b>8.2.2</b> <code>matrix()</code></a></li>
<li class="chapter" data-level="8.2.3" data-path="matricesdataframes.html"><a href="matricesdataframes.html#data.frame"><i class="fa fa-check"></i><b>8.2.3</b> <code>data.frame()</code></a></li>
<li class="chapter" data-level="8.2.4" data-path="matricesdataframes.html"><a href="matricesdataframes.html#dataframes-pre-loaded-in-r"><i class="fa fa-check"></i><b>8.2.4</b> Dataframes pre-loaded in R</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="matricesdataframes.html"><a href="matricesdataframes.html#matrix-and-dataframe-functions"><i class="fa fa-check"></i><b>8.3</b> Matrix and dataframe functions</a><ul>
<li class="chapter" data-level="8.3.1" data-path="matricesdataframes.html"><a href="matricesdataframes.html#head-tail-view"><i class="fa fa-check"></i><b>8.3.1</b> <code>head(), tail(), View()</code></a></li>
<li class="chapter" data-level="8.3.2" data-path="matricesdataframes.html"><a href="matricesdataframes.html#summary-str"><i class="fa fa-check"></i><b>8.3.2</b> <code>summary()</code>, <code>str()</code></a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="matricesdataframes.html"><a href="matricesdataframes.html#dataframe-column-names"><i class="fa fa-check"></i><b>8.4</b> Dataframe column names</a><ul>
<li class="chapter" data-level="8.4.1" data-path="matricesdataframes.html"><a href="matricesdataframes.html#adding-new-columns"><i class="fa fa-check"></i><b>8.4.1</b> Adding new columns</a></li>
<li class="chapter" data-level="8.4.2" data-path="matricesdataframes.html"><a href="matricesdataframes.html#changing-column-names"><i class="fa fa-check"></i><b>8.4.2</b> Changing column names</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="matricesdataframes.html"><a href="matricesdataframes.html#slicing-dataframes"><i class="fa fa-check"></i><b>8.5</b> Slicing dataframes</a><ul>
<li class="chapter" data-level="8.5.1" data-path="matricesdataframes.html"><a href="matricesdataframes.html#slicing-with"><i class="fa fa-check"></i><b>8.5.1</b> Slicing with <code>[, ]</code></a></li>
<li class="chapter" data-level="8.5.2" data-path="matricesdataframes.html"><a href="matricesdataframes.html#slicing-with-logical-vectors"><i class="fa fa-check"></i><b>8.5.2</b> Slicing with logical vectors</a></li>
<li class="chapter" data-level="8.5.3" data-path="matricesdataframes.html"><a href="matricesdataframes.html#slicing-with-subset"><i class="fa fa-check"></i><b>8.5.3</b> Slicing with <code>subset()</code></a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="matricesdataframes.html"><a href="matricesdataframes.html#combining-slicing-with-functions"><i class="fa fa-check"></i><b>8.6</b> Combining slicing with functions</a><ul>
<li class="chapter" data-level="8.6.1" data-path="matricesdataframes.html"><a href="matricesdataframes.html#with"><i class="fa fa-check"></i><b>8.6.1</b> <code>with()</code></a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="matricesdataframes.html"><a href="matricesdataframes.html#test-your-r-might-pirates-and-superheroes"><i class="fa fa-check"></i><b>8.7</b> Test your R might! Pirates and superheroes</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="importingdata.html"><a href="importingdata.html"><i class="fa fa-check"></i><b>9</b> Importing, saving and managing data</a><ul>
<li class="chapter" data-level="9.1" data-path="importingdata.html"><a href="importingdata.html#workspace-management-functions"><i class="fa fa-check"></i><b>9.1</b> Workspace management functions</a><ul>
<li class="chapter" data-level="9.1.1" data-path="importingdata.html"><a href="importingdata.html#why-object-and-file-management-is-so-important"><i class="fa fa-check"></i><b>9.1.1</b> Why object and file management is so important</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="importingdata.html"><a href="importingdata.html#the-working-directory"><i class="fa fa-check"></i><b>9.2</b> The working directory</a></li>
<li class="chapter" data-level="9.3" data-path="importingdata.html"><a href="importingdata.html#projects-in-rstudio"><i class="fa fa-check"></i><b>9.3</b> Projects in RStudio</a></li>
<li class="chapter" data-level="9.4" data-path="importingdata.html"><a href="importingdata.html#the-workspace"><i class="fa fa-check"></i><b>9.4</b> The workspace</a><ul>
<li class="chapter" data-level="9.4.1" data-path="importingdata.html"><a href="importingdata.html#ls"><i class="fa fa-check"></i><b>9.4.1</b> ls()</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="importingdata.html"><a href="importingdata.html#rdata-files"><i class="fa fa-check"></i><b>9.5</b> .RData files</a><ul>
<li class="chapter" data-level="9.5.1" data-path="importingdata.html"><a href="importingdata.html#save"><i class="fa fa-check"></i><b>9.5.1</b> save()</a></li>
<li class="chapter" data-level="9.5.2" data-path="importingdata.html"><a href="importingdata.html#save.image"><i class="fa fa-check"></i><b>9.5.2</b> save.image()</a></li>
<li class="chapter" data-level="9.5.3" data-path="importingdata.html"><a href="importingdata.html#load"><i class="fa fa-check"></i><b>9.5.3</b> load()</a></li>
<li class="chapter" data-level="9.5.4" data-path="importingdata.html"><a href="importingdata.html#rm"><i class="fa fa-check"></i><b>9.5.4</b> rm()</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="importingdata.html"><a href="importingdata.html#txt-files"><i class="fa fa-check"></i><b>9.6</b> .txt files</a><ul>
<li class="chapter" data-level="9.6.1" data-path="importingdata.html"><a href="importingdata.html#write.table"><i class="fa fa-check"></i><b>9.6.1</b> write.table()</a></li>
<li class="chapter" data-level="9.6.2" data-path="importingdata.html"><a href="importingdata.html#read.table"><i class="fa fa-check"></i><b>9.6.2</b> read.table()</a></li>
<li class="chapter" data-level="9.6.3" data-path="importingdata.html"><a href="importingdata.html#reading-files-directly-from-a-web-url"><i class="fa fa-check"></i><b>9.6.3</b> Reading files directly from a web URL</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="importingdata.html"><a href="importingdata.html#excel-spss-and-other-data-files"><i class="fa fa-check"></i><b>9.7</b> Excel, SPSS, and other data files</a></li>
<li class="chapter" data-level="9.8" data-path="importingdata.html"><a href="importingdata.html#additional-tips"><i class="fa fa-check"></i><b>9.8</b> Additional tips</a></li>
<li class="chapter" data-level="9.9" data-path="importingdata.html"><a href="importingdata.html#test-your-r-might-3"><i class="fa fa-check"></i><b>9.9</b> Test your R Might!</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="advanceddataframe.html"><a href="advanceddataframe.html"><i class="fa fa-check"></i><b>10</b> Advanced dataframe manipulation</a><ul>
<li class="chapter" data-level="10.1" data-path="advanceddataframe.html"><a href="advanceddataframe.html#order-sorting-data"><i class="fa fa-check"></i><b>10.1</b> <code>order()</code>: Sorting data</a></li>
<li class="chapter" data-level="10.2" data-path="advanceddataframe.html"><a href="advanceddataframe.html#merge-combining-data"><i class="fa fa-check"></i><b>10.2</b> <code>merge()</code>: Combining data</a></li>
<li class="chapter" data-level="10.3" data-path="advanceddataframe.html"><a href="advanceddataframe.html#aggregate-grouped-aggregation"><i class="fa fa-check"></i><b>10.3</b> <code>aggregate()</code>: Grouped aggregation</a></li>
<li class="chapter" data-level="10.4" data-path="advanceddataframe.html"><a href="advanceddataframe.html#dplyr"><i class="fa fa-check"></i><b>10.4</b> <code>dplyr</code></a><ul>
<li class="chapter" data-level="10.4.1" data-path="advanceddataframe.html"><a href="advanceddataframe.html#additional-dplyr-help"><i class="fa fa-check"></i><b>10.4.1</b> Additional dplyr help</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="advanceddataframe.html"><a href="advanceddataframe.html#additional-aggregation-functions"><i class="fa fa-check"></i><b>10.5</b> Additional aggregation functions</a><ul>
<li class="chapter" data-level="10.5.1" data-path="advanceddataframe.html"><a href="advanceddataframe.html#rowmeans-colmeans"><i class="fa fa-check"></i><b>10.5.1</b> <code>rowMeans()</code>, <code>colMeans()</code></a></li>
<li class="chapter" data-level="10.5.2" data-path="advanceddataframe.html"><a href="advanceddataframe.html#apply-family"><i class="fa fa-check"></i><b>10.5.2</b> <code>apply</code> family</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="advanceddataframe.html"><a href="advanceddataframe.html#test-your-r-might-mmmmmcaffeine"><i class="fa fa-check"></i><b>10.6</b> Test your R might!: Mmmmm…caffeine</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="plotting1.html"><a href="plotting1.html"><i class="fa fa-check"></i><b>11</b> Plotting (I)</a><ul>
<li class="chapter" data-level="11.1" data-path="plotting1.html"><a href="plotting1.html#colors"><i class="fa fa-check"></i><b>11.1</b> Colors</a><ul>
<li class="chapter" data-level="11.1.1" data-path="plotting1.html"><a href="plotting1.html#colors-by-name"><i class="fa fa-check"></i><b>11.1.1</b> Colors by name</a></li>
<li class="chapter" data-level="11.1.2" data-path="plotting1.html"><a href="plotting1.html#gray"><i class="fa fa-check"></i><b>11.1.2</b> gray()</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="plotting1.html"><a href="plotting1.html#yarrrtransparent"><i class="fa fa-check"></i><b>11.2</b> <code>yarrr::transparent()</code></a></li>
<li class="chapter" data-level="11.3" data-path="plotting1.html"><a href="plotting1.html#high-vs.low-level-plotting-commands"><i class="fa fa-check"></i><b>11.3</b> High vs. low-level plotting commands</a><ul>
<li class="chapter" data-level="11.3.1" data-path="plotting1.html"><a href="plotting1.html#plotting-arguments"><i class="fa fa-check"></i><b>11.3.1</b> Plotting arguments</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="plotting1.html"><a href="plotting1.html#scatterplot-plot"><i class="fa fa-check"></i><b>11.4</b> Scatterplot: <code>plot()</code></a><ul>
<li class="chapter" data-level="11.4.1" data-path="plotting1.html"><a href="plotting1.html#symbol-types-pch"><i class="fa fa-check"></i><b>11.4.1</b> Symbol types: <code>pch</code></a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="plotting1.html"><a href="plotting1.html#histogram-hist"><i class="fa fa-check"></i><b>11.5</b> Histogram: <code>hist()</code></a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="solutions.html"><a href="solutions.html"><i class="fa fa-check"></i><b>12</b> Solutions</a><ul>
<li class="chapter" data-level="12.1" data-path="solutions.html"><a href="solutions.html#chapter-4-the-basics"><i class="fa fa-check"></i><b>12.1</b> Chapter 4: The Basics</a></li>
<li class="chapter" data-level="12.2" data-path="solutions.html"><a href="solutions.html#chapter-5-scalers-and-vectors"><i class="fa fa-check"></i><b>12.2</b> Chapter 5: Scalers and vectors</a></li>
<li class="chapter" data-level="12.3" data-path="solutions.html"><a href="solutions.html#chapter-6-vector-functions"><i class="fa fa-check"></i><b>12.3</b> Chapter 6: Vector Functions</a></li>
<li class="chapter" data-level="12.4" data-path="solutions.html"><a href="solutions.html#chapter-7-indexing-vectors-with"><i class="fa fa-check"></i><b>12.4</b> Chapter 7: Indexing vectors with []</a></li>
<li class="chapter" data-level="12.5" data-path="solutions.html"><a href="solutions.html#chapter-8-matrices-and-dataframes"><i class="fa fa-check"></i><b>12.5</b> Chapter 8: Matrices and Dataframes</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">YaRrr! The Pirate’s Guide to R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="importingdata" class="section level1">
<h1><span class="header-section-number">Chapter 9</span> Importing, saving and managing data</h1>
<div class="figure" style="text-align: center"><span id="fig:workspace"></span>
<img src="images/workspace.jpg" alt="Your workspace -- all the objects, functions, and delicious glue you've defined in your current session." width="75%" />
<p class="caption">
Figure 9.1: Your workspace – all the objects, functions, and delicious glue you’ve defined in your current session.
</p>
</div>
<p>Remember way back in Chapter 2 (you know…back when we first met…we were so young and full of excitement then…sorry, now I’m getting emotional…let’s move on… ) when I said everything in R is an object? Well, that’s still true. In this chapter, we’ll cover the basics of R object management. We’ll cover how to load new objects like external datasets into R, how to manage the objects that you already have, and how to export objects from R into external files that you can share with other people or store for your own future use.</p>
<div id="workspace-management-functions" class="section level2">
<h2><span class="header-section-number">9.1</span> Workspace management functions</h2>
<p>Here are some functions helpful for managing your workspace that we’ll go over in this chapter:</p>
<table style="width:86%;">
<caption><span id="tab:workspacefunctions">Table 9.1: </span> Functions for managing your workspace, working directory, and writing data from R as <code>.txt</code> or <code>.RData</code> files, and reading files into R</caption>
<colgroup>
<col width="36%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Code</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>ls()</code></td>
<td align="left">Display all objects in the current workspace</td>
</tr>
<tr class="even">
<td align="left"><code>rm(a, b, ..)</code></td>
<td align="left">Removes the objects <code>a</code>, <code>b</code>… from your workspace</td>
</tr>
<tr class="odd">
<td align="left"><code>rm(list = ls())</code></td>
<td align="left">Removes <em>all</em> objects in your workspace</td>
</tr>
<tr class="even">
<td align="left"><code>getwd()</code></td>
<td align="left">Returns the current working directory</td>
</tr>
<tr class="odd">
<td align="left"><code>setwd(file = &quot;dir)</code></td>
<td align="left">Changes the working directory to a specified file location</td>
</tr>
<tr class="even">
<td align="left"><code>list.files()</code></td>
<td align="left">Returns the names of all files in the working directory</td>
</tr>
<tr class="odd">
<td align="left"><code>write.table(x, file = &quot;mydata.txt&quot;, sep)</code></td>
<td align="left">writes the object <code>x</code> to a text file called <code>mydata.txt</code>. Define how the columns will be separated with <code>sep</code> (e.g.; <code>sep = &quot;,&quot;</code> for a comma–separated file, and <code>sep = \t&quot;</code> for a tab–separated file).</td>
</tr>
<tr class="even">
<td align="left"><code>save(a, b, .., file = &quot;myimage.RData)</code></td>
<td align="left">Saves objects <code>a</code>, <code>b</code>, … to <code>myimage.RData</code></td>
</tr>
<tr class="odd">
<td align="left"><code>save.image(file = &quot;myimage.RData&quot;)</code></td>
<td align="left">Saves <em>all</em> objects in your workspace to <code>myimage.RData</code></td>
</tr>
<tr class="even">
<td align="left"><code>load(file = &quot;myimage.RData&quot;)</code></td>
<td align="left">Loads objects in the file <code>myimage.RData</code></td>
</tr>
<tr class="odd">
<td align="left"><code>read.table(file = &quot;mydata.txt&quot;, sep, header)</code></td>
<td align="left">Reads a text file called <code>mydata.txt</code>, define how columns are separated with <code>sep</code> (e.g. <code>sep = &quot;,&quot;</code> for comma-delimited files, and <code>sep = &quot;\t&quot;</code> for tab-delimited files), and whether there is a header column with <code>header = TRUE</code></td>
</tr>
</tbody>
</table>
<div id="why-object-and-file-management-is-so-important" class="section level3">
<h3><span class="header-section-number">9.1.1</span> Why object and file management is so important</h3>
<div class="figure" style="text-align: center"><span id="fig:selfie"></span>
<img src="images/pirateselfie.jpg" alt="Your computer is probably so full of selfies like this that if you don't get organized, you may try to load this into your R session instead of your data file." width="50%" />
<p class="caption">
Figure 9.2: Your computer is probably so full of selfies like this that if you don’t get organized, you may try to load this into your R session instead of your data file.
</p>
</div>
<p>Your computer is a maze of folders, files, and selfies (see Figure <a href="importingdata.html#fig:selfie">9.2</a>). Outside of R, when you want to open a specific file, you probably open up an explorer window that allows you to visually search through the folders on your computer. Or, maybe you select recent files, or type the name of the file in a search box to let your computer do the searching for you. While this system usually works for non-programming tasks, it is a no-go for R. Why? Well, the main problem is that all of these methods require you to <em>visually</em> scan your folders and move your mouse to select folders and files that match what you are looking for. When you are programming in R, you need to specify <em>all</em> steps in your analyses in a way that can be easily replicated by others and your future self. This means you can’t just say: “Find this one file I emailed to myself a week ago” or “Look for a file that looks something like <code>experimentAversion3.txt</code>.” Instead, need to be able to write R code that tells R <em>exactly</em> where to find critical files – either on your computer or on the web.</p>
<p>To make this job easier, R uses <em>working directories</em>.</p>
</div>
</div>
<div id="the-working-directory" class="section level2">
<h2><span class="header-section-number">9.2</span> The working directory</h2>
<div class="figure" style="text-align: center"><span id="fig:mazeflag"></span>
<img src="images/mazeflag.png" alt="A working directory is like a flag on your computer that tells R where to start looking for your files related to a specific project. Each project should have its own folder with organized sub-folders." width="50%" />
<p class="caption">
Figure 9.3: A working directory is like a flag on your computer that tells R where to start looking for your files related to a specific project. Each project should have its own folder with organized sub-folders.
</p>
</div>
<p>The <strong>working directory</strong> is just a file path on your computer that sets the default location of any files you read into R, or save out of R. In other words, a working directory is like a little flag somewhere on your computer which is tied to a specific analysis project. If you ask R to import a dataset from a text file, or save a dataframe as a text file, it will assume that the file is inside of your working directory.</p>
<p>You can only have one working directory active at any given time. The active working directory is called your <em>current</em> working directory.</p>
<p>To see your current working directory, use <code>getwd()</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Print my current working directory</span>
<span class="kw">getwd</span>()
## [1] &quot;/Users/nphillips/Dropbox/manuscripts/YaRrr_bd&quot;</code></pre></div>
<p>As you can see, when I run this code, it tells me that my working directory is in a folder on my Desktop called <code>yarrr</code>. This means that when I try to read new files into R, or write files out of R, it will assume that I want to put them in this folder.</p>
<p>If you want to change your working directory, use the <code>setwd()</code> function. For example, if I wanted to change my working directory to an existing Dropbox folder called <code>yarrr</code>, I’d run the following code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Change my working directory to the following path</span>
<span class="kw">setwd</span>(<span class="dt">dir =</span> <span class="st">&quot;/Users/nphillips/Dropbox/yarrr&quot;</span>)</code></pre></div>
</div>
<div id="projects-in-rstudio" class="section level2">
<h2><span class="header-section-number">9.3</span> Projects in RStudio</h2>
<p>If you’re using RStudio, you have the option of creating a new R <strong>project</strong>. A project is simply a working directory designated with a <code>.RProj</code> file. When you open a project (using File/Open Project in RStudio or by double–clicking on the .Rproj file outside of R), the working directory will automatically be set to the directory that the <code>.RProj</code> file is located in.</p>
<p>I recommend creating a new R Project whenever you are starting a new research project. Once you’ve created a new R project, you should immediately create folders in the directory which will contain your R code, data files, notes, and other material relevant to your project (you can do this outside of R on your computer, or in the Files window of RStudio). For example, you could create a folder called <code>R</code> that contains all of your R code, a folder called <code>data</code> that contains all your data (etc.). In Figure~<a href="importingdata.html#fig:forensic">9.4</a> you can see how my working directory looks for a project I am working on called ForensicFFT.</p>
<div class="figure" style="text-align: center"><span id="fig:forensic"></span>
<img src="images/wd_ss.png" alt="Here is the folder structure I use for the working directory in my R project called ForensicFFT. As you can see, it contains an .Rproj file generated by RStudio which sets this folder as the working directory. I also created a folder called r for R code, a folder called data for.txt and .RData files) among others." width="75%" />
<p class="caption">
Figure 9.4: Here is the folder structure I use for the working directory in my R project called ForensicFFT. As you can see, it contains an .Rproj file generated by RStudio which sets this folder as the working directory. I also created a folder called r for R code, a folder called data for.txt and .RData files) among others.
</p>
</div>
</div>
<div id="the-workspace" class="section level2">
<h2><span class="header-section-number">9.4</span> The workspace</h2>
<p>The <strong>workspace</strong> (aka your <strong>working environment</strong>) represents all of the objects and functions you have either defined in the current session, or have loaded from a previous session. When you started RStudio for the first time, the working environment was empty because you hadn’t created any new objects or functions. However, as you defined new objects and functions using the assignment operator <code>&lt;-</code>, these new objects were stored in your working environment. When you closed RStudio after defining new objects, you likely got a message asking you “Save workspace image…?”&quot; This is RStudio’s way of asking you if you want to save all the objects currently defined in your workspace as an <strong>image file</strong> on your computer.</p>
<div id="ls" class="section level3">
<h3><span class="header-section-number">9.4.1</span> ls()</h3>
<p>If you want to see all the objects defined in your current workspace, use the <code>ls()</code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Print all the objects in my workspace</span>
<span class="kw">ls</span>()</code></pre></div>
<p>When I run <code>ls()</code> I received the following result:</p>
<pre><code>## [1] &quot;study1.df&quot; &quot;study2.df&quot; &quot;lm.study1&quot; &quot;lm.study2&quot; &quot;bf.study1&quot;</code></pre>
<p>The result above says that I have these 5 objects in my workspace. If I try to refer to an object not listed here, R will return an error. For example, if I try to print <code>study3.df</code> (which isn’t in my workspace), I will receive the following error:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Try to print study3.df</span>
<span class="co">#  Error because study3.df is NOT in my current workspace</span>
study3.df</code></pre></div>
<div class="error">
Error: object ‘study3.df’ not found
</div>
<p>If you receive this error, it’s because the object you are referring to is not in your current workspace. 99% of the time, this happens because you mistyped the name of an object.</p>
</div>
</div>
<div id="rdata-files" class="section level2">
<h2><span class="header-section-number">9.5</span> .RData files</h2>
<p>The best way to store objects from R is with <code>.RData files</code>. <code>.RData</code> files are specific to R and can store as many objects as you’d like within a single file. Think about that. If you are conducting an analysis with 10 different dataframes and 5 hypothesis tests, you can save <strong>all</strong> of those objects in a single file called <code>ExperimentResults.RData</code>.</p>
<div id="save" class="section level3">
<h3><span class="header-section-number">9.5.1</span> save()</h3>
<p>To save selected objects into one <code>.RData</code> file, use the <code>save()</code> function. When you run the <code>save()</code> function with specific objects as arguments, (like <code>save(a, b, c, file = &quot;myobjects.RData&quot;</code>) all of those objects will be saved in a single file called <code>myobjects.RData</code></p>
<div class="figure" style="text-align: center"><span id="fig:rdata"></span>
<img src="images/rdata_example.png" alt="Saving multiple objects into a single .RData file." width="75%" />
<p class="caption">
Figure 9.5: Saving multiple objects into a single .RData file.
</p>
</div>
<p>For example, let’s create a few objects corresponding to a study.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create some objects that we&#39;ll save later</span>
study1.df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">id =</span> <span class="dv">1</span>:<span class="dv">5</span>, 
                        <span class="dt">sex =</span> <span class="kw">c</span>(<span class="st">&quot;m&quot;</span>, <span class="st">&quot;m&quot;</span>, <span class="st">&quot;f&quot;</span>, <span class="st">&quot;f&quot;</span>, <span class="st">&quot;m&quot;</span>), 
                        <span class="dt">score =</span> <span class="kw">c</span>(<span class="dv">51</span>, <span class="dv">20</span>, <span class="dv">67</span>, <span class="dv">52</span>, <span class="dv">42</span>))

score.by.sex &lt;-<span class="st"> </span><span class="kw">aggregate</span>(score ~<span class="st"> </span>sex, 
                          <span class="dt">FUN =</span> mean, 
                          <span class="dt">data =</span> study1.df)

study1.htest &lt;-<span class="st"> </span><span class="kw">t.test</span>(score ~<span class="st"> </span>sex, 
                       <span class="dt">data =</span> study1.df)</code></pre></div>
<p>Now that we’ve done all of this work, we want to save all three objects in an a file called <code>study1.RData</code> in the data folder of my current working directory. To do this, you can run the following</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Save two objects as a new .RData file</span>
<span class="co">#   in the data folder of my current working directory</span>
<span class="kw">save</span>(study1.df, score.by.sex, study1.htest,
     <span class="dt">file =</span> <span class="st">&quot;data/study1.RData&quot;</span>)</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:rdatavan"></span>
<img src="images/rdatavan.png" alt="Our new study1.RData file is like a van filled with our objects." width="75%" />
<p class="caption">
Figure 9.6: Our new study1.RData file is like a van filled with our objects.
</p>
</div>
<p>Once you do this, you should see the <code>study1.RData</code> file in the data folder of your working directory. This file now contains all of your objects that you can easily access later using the <code>load()</code> function (we’ll go over this in a second…).</p>
</div>
<div id="save.image" class="section level3">
<h3><span class="header-section-number">9.5.2</span> save.image()</h3>
<p>If you have many objects that you want to save, then using <code>save</code> can be tedious as you’d have to type the name of every object. To save <em>all</em> the objects in your workspace as a .RData file, use the <code>save.image()</code> function. For example, to save my workspace in the <code>data</code> folder located in my working directory, I’d run the following:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Save my workspace to complete_image.RData in th,e</span>
<span class="co">#  data folder of my working directory</span>
<span class="kw">save.image</span>(<span class="dt">file =</span> <span class="st">&quot;data/projectimage.RData&quot;</span>)</code></pre></div>
<p>Now, the <code>projectimage.RData</code> file contains <em>all</em> objects in your current workspace.</p>
</div>
<div id="load" class="section level3">
<h3><span class="header-section-number">9.5.3</span> load()</h3>
<p>To load an <code>.RData</code> file, that is, to import all of the objects contained in the <code>.RData</code> file into your current workspace, use the <code>load()</code> function. For example, to load the three specific objects that I saved earlier (<code>study1.df</code>, <code>score.by.sex</code>, and <code>study1.htest</code>) in <code>study1.RData</code>, I’d run the following:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Load objects in study1.RData into my workspace</span>
<span class="kw">load</span>(<span class="dt">file =</span> <span class="st">&quot;data/study1.RData&quot;</span>)</code></pre></div>
<p>To load all of the objects in the workspace that I just saved to the data folder in my working directory in <code>projectimage.RData</code>, I’d run the following:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Load objects in projectimage.RData into my workspace</span>
<span class="kw">load</span>(<span class="dt">file =</span> <span class="st">&quot;data/projectimage.RData&quot;</span>)</code></pre></div>
<p>I hope you realize how awesome loading .RData files is. With R, you can store all of your objects, from dataframes to hypothesis tests, in a single <code>.RData</code> file. And then load them into any R session at any time using <code>load()</code>.</p>
</div>
<div id="rm" class="section level3">
<h3><span class="header-section-number">9.5.4</span> rm()</h3>
<p>To remove objects from your workspace, use the <code>rm()</code> function. Why would you want to remove objects? At some points in your analyses, you may find that your workspace is filled up with one or more objects that you don’t need – either because they’re slowing down your computer, or because they’re just distracting.</p>
<p>To remove specific objects, enter the objects as arguments to <code>rm()</code>. For example, to remove a huge dataframe called <code>huge.df</code>, I’d run the following;</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Remove huge.df from workspace</span>
<span class="kw">rm</span>(huge.df)</code></pre></div>
<p>If you want to remove <em>all</em> of the objects in your working directory, enter the argument <code>list = ls()</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Remove ALL objects from workspace</span>
<span class="kw">rm</span>(<span class="dt">list =</span> <span class="kw">ls</span>())</code></pre></div>
<p><strong>Important!!!</strong> Once you remove an object, you <strong>cannot</strong> get it back without running the code that originally generated the object! That is, you can’t simply click ‘Undo’ to get an object back. Thankfully, if your R code is complete and well-documented, you should easily be able to either re-create a lost object (e.g.; the results of a regression analysis), or re-load it from an external file.</p>
</div>
</div>
<div id="txt-files" class="section level2">
<h2><span class="header-section-number">9.6</span> .txt files</h2>
<p>While <code>.RData</code> files are great for saving R objects, sometimes you’ll want to export data (usually dataframes) as a simple <code>.txt</code> text file that other programs, like Excel and <strong>S</strong>hitty <strong>P</strong>iece of <strong>S</strong>hitty <strong>S</strong>hit, can also read. To do this, use the <code>write.table()</code> function.</p>
<div id="write.table" class="section level3">
<h3><span class="header-section-number">9.6.1</span> write.table()</h3>
<table style="width:90%;">
<caption><span id="tab:writetable">Table 9.2: </span> Arguments for the <code>write.table()</code> function that will save an object x (usually a data frame) as a .txt file.</caption>
<colgroup>
<col width="19%" />
<col width="70%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Argument</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>x</code></td>
<td align="left">The object you want to write to a text file, usually a dataframe</td>
</tr>
<tr class="even">
<td align="left"><code>file</code></td>
<td align="left">The document’s file path relative to the working directory unless specified otherwise. For example <code>file = &quot;mydata.txt&quot;</code> saves the text file directly in the working directory, while <code>file = &quot;data/mydata.txt&quot;</code> will save the data in an existing folder called <code>data</code> inside the working directory.<br>You can also specify a full file path outside of your working directory (<code>file = &quot;/Users/CaptainJack/Desktop/OctoberStudy/mydata.txt&quot;</code>)</td>
</tr>
<tr class="odd">
<td align="left"><code>sep</code></td>
<td align="left">A string indicating how the columns are separated. For comma separated files, use <code>sep = &quot;,&quot;</code>, for tab–delimited files, use <code>sep = &quot;\t&quot;</code></td>
</tr>
<tr class="even">
<td align="left"><code>row.names</code></td>
<td align="left">A logical value (TRUE or FALSE) indicating whether or not save the rownames in the text file. (<code>row.names = FALSE</code> will not include row names)</td>
</tr>
</tbody>
</table>
<p>For example, the following code will save the <code>pirates</code> dataframe as a tab–delimited text file called <code>pirates.txt</code> in my working directory:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Write the pirates dataframe object to a tab-delimited</span>
<span class="co">#  text file called pirates.txt in my working directory</span>

<span class="kw">write.table</span>(<span class="dt">x =</span> pirates,
            <span class="dt">file =</span> <span class="st">&quot;pirates.txt&quot;</span>,  <span class="co"># Save the file as pirates.txt</span>
            <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>)            <span class="co"># Make the columns tab-delimited</span></code></pre></div>
<p>If you want to save a file to a location outside of your working directory, just use the entire directory name. When you enter a long path name into the <code>file</code> argument of <code>write.table()</code>, R will look for that directory outside of your working directory. For example, to save a text file to my Desktop (which is outside of my working directory), I would set <code>file = &quot;Users/nphillips/Desktop/pirates.txt&quot;</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Write the pirates dataframe object to a tab-delimited</span>
<span class="co">#  text file called pirates.txt to my desktop</span>

<span class="kw">write.table</span>(<span class="dt">x =</span> pirates,
            <span class="dt">file =</span> <span class="st">&quot;Users/nphillips/Desktop/pirates.txt&quot;</span>,  <span class="co"># Save the file as pirates.txt to my desktop</span>
            <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>)                                    <span class="co"># Make the columns tab-delimited</span></code></pre></div>
</div>
<div id="read.table" class="section level3">
<h3><span class="header-section-number">9.6.2</span> read.table()</h3>
<p>If you have a .txt file that you want to read into R, use the <code>read.table()</code> function.</p>
<table style="width:90%;">
<colgroup>
<col width="19%" />
<col width="70%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Argument</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>file</code></td>
<td align="left">The document’s file path relative to the working directory unless specified otherwise. For example <code>file = &quot;mydata.txt&quot;</code> looks for the text file directly in the working directory, while <code>file = &quot;data/mydata.txt&quot;</code> will look for the file in an existing folder called <code>data</code> inside the working directory.<br>If the file is outside of your working directory, you can also specify a full file path (<code>file = &quot;/Users/CaptainJack/Desktop/OctoberStudy/mydata.txt&quot;</code>)</td>
</tr>
<tr class="even">
<td align="left"><code>header</code></td>
<td align="left">A logical value indicating whether the data has a header row – that is, whether the first row of the data represents the column names.</td>
</tr>
<tr class="odd">
<td align="left"><code>sep</code></td>
<td align="left">A string indicating how the columns are separated. For comma separated files, use <code>sep = &quot;,&quot;</code>, for tab–delimited files, use <code>sep = &quot;\t&quot;</code></td>
</tr>
<tr class="even">
<td align="left"><code>stringsAsFactors</code></td>
<td align="left">A logical value indicating whether or not to convert strings to factors. I <strong>always</strong> set this to FALSE because I <em>hate</em>, <em>hate</em>, <em>hate</em> how R uses factors</td>
</tr>
</tbody>
</table>
<p>The three critical arguments to <code>read.table()</code> are <code>file</code>, <code>sep</code>, <code>header</code> and <code>stringsAsFactors</code>. The <code>file</code> argument is a character value telling R where to find the file. If the file is in in a folder in your working directory, just specify the path within your working directory (e.g.; <code>file = data/newdata.txt</code>. The <code>sep</code> argument tells R how the columns are separated in the file (again, for a comma–separated file, use <code>sep = &quot;,&quot;</code>}, for a tab–delimited file, use <code>sep = &quot;\t&quot;</code>. The <code>header</code> argument is a logical value (TRUE or FALSE) telling R whether or not the first row in the data is the name of the data columns. Finally, the <code>stringsAsFactors</code> argument is a logical value indicating whether or not to convert strings to factors (I <em>always</em> set this to FALSE!)</p>
<p>Let’s test this function out by reading in a text file titled <code>mydata.txt</code>. Since the text file is located a folder called <code>data</code> in my working directory, I’ll use the file path <code>file = &quot;data/mydata.txt&quot;</code> and since the file is tab–delimited, I’ll use the argument <code>sep = &quot;\t&quot;</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Read a tab-delimited text file called mydata.txt </span>
<span class="co">#  from the data folder in my working directory into</span>
<span class="co">#  R and store as a new object called mydata</span>

mydata &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="dt">file =</span> <span class="st">&#39;data/mydata.txt&#39;</span>,    <span class="co"># file is in a data folder in my working directory</span>
                     <span class="dt">sep =</span> <span class="st">&#39;</span><span class="ch">\t</span><span class="st">&#39;</span>,                  <span class="co"># file is tab--delimited</span>
                     <span class="dt">header =</span> <span class="ot">TRUE</span>,               <span class="co"># the first row of the data is a header row</span>
                     <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)    <span class="co"># do NOT convert strings to factors!!</span></code></pre></div>
</div>
<div id="reading-files-directly-from-a-web-url" class="section level3">
<h3><span class="header-section-number">9.6.3</span> Reading files directly from a web URL</h3>
<p>A really neat feature of the <code>read.table()</code> function is that you can use it to load text files directly from the web (assuming you are online). To do this, just set the file path to the document’s web URL (beginning with <code>http://</code>). For example, I have a text file stored at <code>http://goo.gl/jTNf6P</code>. You can import and save this tab–delimited text file as a new object called <code>fromweb</code> as follows:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Read a text file from the web</span>
fromweb &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="dt">file =</span> <span class="st">&#39;http://goo.gl/jTNf6P&#39;</span>,
                      <span class="dt">sep =</span> <span class="st">&#39;</span><span class="ch">\t</span><span class="st">&#39;</span>,
                      <span class="dt">header =</span> <span class="ot">TRUE</span>)

<span class="co"># Print the result</span>
fromweb
##            message randomdata
## 1 Congratulations!          1
## 2              you          2
## 3             just          3
## 4       downloaded          4
## 5             this          5
## 6            table          6
## 7             from          7
## 8              the          8
## 9             web!          9</code></pre></div>
<p>I think this is pretty darn cool. This means you can save your main data files on Dropbox or a web-server, and always have access to it from any computer by accessing it from its web URL.</p>
<div id="debugging-1" class="section level4 unnumbered">
<h4>Debugging</h4>
<p>When you run <code>read.table()</code>, you might receive an error like this:</p>
<div class="error">
Error in file(file, “rt”) : cannot open the connection
</div>
<div class="error">
In addition: Warning message:
</div>
<div class="error">
In file(file, “rt”) : cannot open file ‘asdf’: No such file or directory
</div>
<p>If you receive this error, it’s likely because you either spelled the file name incorrectly, or did not specify the correct directory location in the <code>file</code> argument.</p>
</div>
</div>
</div>
<div id="excel-spss-and-other-data-files" class="section level2">
<h2><span class="header-section-number">9.7</span> Excel, SPSS, and other data files</h2>
<p>A common question I hear is “How can I import an SPSS/Excel/… file into R?”. The first answer to this question I always give is “You shouldn’t”. <strong>S</strong>hitty <strong>P</strong>iece of <strong>S</strong>hitty <strong>S</strong>hit files can contain information like variable descriptions that R doesn’t know what to do with, and Excel files often contain something, like missing rows or cells with text instead of numbers, that can completely confuse R.</p>
<p>Rather than trying to import SPSS or Excel files directly in R, I always recommend first exporting/saving the original SPSS or Excel files as text <code>.txt.</code> files – both SPSS and Excel have options to do this. Then, once you have exported the data to a <code>.txt</code> file, you can read it into R using <code>read.table()</code>.</p>
<p><strong>Warning</strong>: If you try to export an Excel file to a text file, it is a good idea to clean the file as much as you can first by, for example, deleting unnecessary columns, making sure that all numeric columns have numeric data, making sure the column names are simple (ie., single words without spaces or special characters). If there is anything ‘unclean’ in the file, then R may still have problems reading it, even after you export it to a text file.</p>
<p>If you absolutely <em>have</em> to read a non-text file into R, check out the package called <code>foreign</code> (<code>install.packages(&quot;foreign&quot;)</code>). This package has functions for importing Stata, SAS and SPSS files directly into R. To read Excel files, try the package <code>xlsx</code> (<code>install.packages(&quot;xlsx&quot;)</code>). But again, in my experience it’s <em>always</em> better to convert such files to simple text files first, and then read them into R with <code>read.table()</code>.</p>
</div>
<div id="additional-tips" class="section level2">
<h2><span class="header-section-number">9.8</span> Additional tips</h2>
<ol style="list-style-type: decimal">
<li>There are many functions other than <code>read.table()</code> for importing data. For example, the functions <code>read.csv</code> and <code>read.delim</code> are specific for importing comma-separated and tab-separated text files. In practice, these functions do the same thing as <code>read.table</code>, but they don’t require you to specify a <code>sep</code> argument. Personally, I always use <code>read.table()</code> because it always works and I don’t like trying to remember unnecessary functions.</li>
</ol>
</div>
<div id="test-your-r-might-3" class="section level2">
<h2><span class="header-section-number">9.9</span> Test your R Might!</h2>
<ol style="list-style-type: decimal">
<li><p>In RStudio, open a new R Project in a new directory by clicking File – New Project. Call the directory <code>MyRProject</code>, and then select a directory on your computer for the project. This will be the project’s working directory.</p></li>
<li><p>Outside of RStudio, navigate to the directory you selected in Question 1 and create three new folders – Call them <code>data,</code>R<code>, and</code>notes`.</p></li>
<li><p>Go back to RStudio and open a new R script. Save the script as <code>CreatingObjects.R</code> in the <code>R</code> folder you created in Question 2.</p></li>
<li><p>In the script, create new objects called <code>a</code>, <code>b</code>, and <code>c</code>. You can assign anything to these objects – from vectors to dataframes. If you can’t think of any, use these:</p></li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="st">&quot;sex&quot;</span> =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;m&quot;</span>, <span class="st">&quot;f&quot;</span>, <span class="st">&quot;m&quot;</span>),
                <span class="st">&quot;age&quot;</span> =<span class="st"> </span><span class="kw">c</span>(<span class="dv">19</span>, <span class="dv">43</span>, <span class="dv">25</span>),
                <span class="st">&quot;favorite.movie&quot;</span> =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Moon&quot;</span>, <span class="st">&quot;The Goonies&quot;</span>, <span class="st">&quot;Spice World&quot;</span>))
b &lt;-<span class="st"> </span><span class="kw">mean</span>(a$age)

c &lt;-<span class="st"> </span><span class="kw">table</span>(a$sex)</code></pre></div>
<ol start="5" style="list-style-type: decimal">
<li><p>Send the code to the Console so the objects are stored in your current workspace. Use the <code>ls()</code> function to see that the objects are indeed stored in your workspace.</p></li>
<li><p>I have a tab–delimited text file called <code>club</code> at the following web address: <a href="http://nathanieldphillips.com/wp-content/uploads/2015/12/club.txt" class="uri">http://nathanieldphillips.com/wp-content/uploads/2015/12/club.txt</a>. Using <code>read.table()</code>, load the data as a new object called <code>club.df</code> in your workspace.</p></li>
<li><p>Using <code>write.table()</code>, save the dataframe as a tab–delimited text file called <code>club.txt</code> to the data folder you created in Question 2. Note: You won’t use the text file again for this exercise, but now you have it handy in case you need to share it with someone who doesn’t use R.</p></li>
<li><p>Save the three objects <code>a</code>, <code>b</code>, <code>c</code>, and <code>club.df</code> to an .RData file called “myobjects.RData” in your data folder using <code>save()</code>.</p></li>
<li><p>Clear your workspace using the <code>rm(list = ls())</code> function. Then, run the <code>ls()</code> function to make sure the objects are gone.</p></li>
<li><p>Open a new R script called <code>AnalyzingObjects.R</code> and save the script to the <code>R</code> folder you created in Question 2.</p></li>
<li><p>Now, in your <code>AnalyzingObjects.R</code> script, load the objects back into your workspace from the <code>myobjects.RData</code> file using the <code>load()</code> function. Again, run the <code>ls()</code> function to make sure all the objects are back in your workspace.</p></li>
<li><p>Add some R code to your <code>AnalyzingObjects.R</code> script. Calculate some means and percentages. Now save your <code>AnalyzingObjects.R</code> script, and then save all the objects in your workspace to <code>myobjects.RData</code>.</p></li>
<li><p>Congratulations! You are now a well-organized R Pirate! Quit RStudio and go outside for some relaxing pillaging.</p></li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="matricesdataframes.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="advanceddataframe.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ndphillips/ThePiratesGuideToR/edit/master/09-workingwithdata.Rmd",
"text": "Edit"
},
"download": ["YaRrr.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
