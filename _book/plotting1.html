<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>YaRrr! The Pirate’s Guide to R</title>
  <meta name="description" content="An introductory book to R written by, and for, R pirates">
  <meta name="generator" content="bookdown 0.3.9 and GitBook 2.6.7">

  <meta property="og:title" content="YaRrr! The Pirate’s Guide to R" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://bookdown.org/ndphillips/YaRrr/" />
  <meta property="og:image" content="https://bookdown.org/ndphillips/YaRrr/images/YaRrr_Cover.jpg" />
  <meta property="og:description" content="An introductory book to R written by, and for, R pirates" />
  <meta name="github-repo" content="ndphillips/ThePiratesGuideToR" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="YaRrr! The Pirate’s Guide to R" />
  
  <meta name="twitter:description" content="An introductory book to R written by, and for, R pirates" />
  <meta name="twitter:image" content="https://bookdown.org/ndphillips/YaRrr/images/YaRrr_Cover.jpg" />

<meta name="author" content="Nathaniel D. Phillips">


<meta name="date" content="2017-03-02">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="advanceddataframe.html">
<link rel="next" href="solutions.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">YaRrr! The Pirate's Guide to R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a></li>
<li class="chapter" data-level="2" data-path="started.html"><a href="started.html"><i class="fa fa-check"></i><b>2</b> Getting Started</a></li>
<li class="chapter" data-level="3" data-path="jumpin.html"><a href="jumpin.html"><i class="fa fa-check"></i><b>3</b> Jump In!</a></li>
<li class="chapter" data-level="4" data-path="basics.html"><a href="basics.html"><i class="fa fa-check"></i><b>4</b> The Basics</a></li>
<li class="chapter" data-level="5" data-path="scalersvectors.html"><a href="scalersvectors.html"><i class="fa fa-check"></i><b>5</b> Scalers and vectors</a></li>
<li class="chapter" data-level="6" data-path="vectorfunctions.html"><a href="vectorfunctions.html"><i class="fa fa-check"></i><b>6</b> Vector functions</a></li>
<li class="chapter" data-level="7" data-path="vectorindexing.html"><a href="vectorindexing.html"><i class="fa fa-check"></i><b>7</b> Indexing Vectors with [ ]</a></li>
<li class="chapter" data-level="8" data-path="matricesdataframes.html"><a href="matricesdataframes.html"><i class="fa fa-check"></i><b>8</b> Matrices and Dataframes</a></li>
<li class="chapter" data-level="9" data-path="importingdata.html"><a href="importingdata.html"><i class="fa fa-check"></i><b>9</b> Importing, saving and managing data</a></li>
<li class="chapter" data-level="10" data-path="advanceddataframe.html"><a href="advanceddataframe.html"><i class="fa fa-check"></i><b>10</b> Advanced dataframe manipulation</a></li>
<li class="chapter" data-level="11" data-path="plotting1.html"><a href="plotting1.html"><i class="fa fa-check"></i><b>11</b> Plotting (I)</a><ul>
<li class="chapter" data-level="11.1" data-path="plotting1.html"><a href="plotting1.html#colors"><i class="fa fa-check"></i><b>11.1</b> Colors</a><ul>
<li class="chapter" data-level="11.1.1" data-path="plotting1.html"><a href="plotting1.html#colors-by-name"><i class="fa fa-check"></i><b>11.1.1</b> Colors by name</a></li>
<li class="chapter" data-level="11.1.2" data-path="plotting1.html"><a href="plotting1.html#gray"><i class="fa fa-check"></i><b>11.1.2</b> gray()</a></li>
<li class="chapter" data-level="11.1.3" data-path="plotting1.html"><a href="plotting1.html#yarrrtransparent"><i class="fa fa-check"></i><b>11.1.3</b> <code>yarrr::transparent()</code></a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="plotting1.html"><a href="plotting1.html#plotting-arguments"><i class="fa fa-check"></i><b>11.2</b> Plotting arguments</a></li>
<li class="chapter" data-level="11.3" data-path="plotting1.html"><a href="plotting1.html#scatterplot-plot"><i class="fa fa-check"></i><b>11.3</b> Scatterplot: <code>plot()</code></a><ul>
<li class="chapter" data-level="11.3.1" data-path="plotting1.html"><a href="plotting1.html#symbol-types-pch"><i class="fa fa-check"></i><b>11.3.1</b> Symbol types: <code>pch</code></a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="plotting1.html"><a href="plotting1.html#histogram-hist"><i class="fa fa-check"></i><b>11.4</b> Histogram: <code>hist()</code></a></li>
<li class="chapter" data-level="11.5" data-path="plotting1.html"><a href="plotting1.html#barplot-barplot"><i class="fa fa-check"></i><b>11.5</b> Barplot: <code>barplot()</code></a><ul>
<li class="chapter" data-level="11.5.1" data-path="plotting1.html"><a href="plotting1.html#clustered-barplot"><i class="fa fa-check"></i><b>11.5.1</b> Clustered barplot</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="plotting1.html"><a href="plotting1.html#pirateplot"><i class="fa fa-check"></i><b>11.6</b> <code>pirateplot()</code></a><ul>
<li class="chapter" data-level="11.6.1" data-path="plotting1.html"><a href="plotting1.html#pirateplot-themes"><i class="fa fa-check"></i><b>11.6.1</b> Pirateplot themes</a></li>
<li class="chapter" data-level="11.6.2" data-path="plotting1.html"><a href="plotting1.html#customizing-pirateplots"><i class="fa fa-check"></i><b>11.6.2</b> Customizing pirateplots</a></li>
<li class="chapter" data-level="11.6.3" data-path="plotting1.html"><a href="plotting1.html#saving-output"><i class="fa fa-check"></i><b>11.6.3</b> Saving output</a></li>
</ul></li>
<li class="chapter" data-level="11.7" data-path="plotting1.html"><a href="plotting1.html#low-level-plotting-functions"><i class="fa fa-check"></i><b>11.7</b> Low-level plotting functions</a><ul>
<li class="chapter" data-level="11.7.1" data-path="plotting1.html"><a href="plotting1.html#starting-with-a-blank-plot"><i class="fa fa-check"></i><b>11.7.1</b> Starting with a blank plot</a></li>
<li class="chapter" data-level="11.7.2" data-path="plotting1.html"><a href="plotting1.html#points"><i class="fa fa-check"></i><b>11.7.2</b> <code>points()</code></a></li>
<li class="chapter" data-level="11.7.3" data-path="plotting1.html"><a href="plotting1.html#abline-segments"><i class="fa fa-check"></i><b>11.7.3</b> <code>abline()</code>, <code>segments()</code></a></li>
<li class="chapter" data-level="11.7.4" data-path="plotting1.html"><a href="plotting1.html#text"><i class="fa fa-check"></i><b>11.7.4</b> <code>text()</code></a></li>
<li class="chapter" data-level="11.7.5" data-path="plotting1.html"><a href="plotting1.html#combining-text-and-numbers-with-paste"><i class="fa fa-check"></i><b>11.7.5</b> Combining text and numbers with <code>paste()</code></a></li>
<li class="chapter" data-level="11.7.6" data-path="plotting1.html"><a href="plotting1.html#curve"><i class="fa fa-check"></i><b>11.7.6</b> <code>curve()</code></a></li>
<li class="chapter" data-level="11.7.7" data-path="plotting1.html"><a href="plotting1.html#legend"><i class="fa fa-check"></i><b>11.7.7</b> <code>legend()</code></a></li>
</ul></li>
<li class="chapter" data-level="11.8" data-path="plotting1.html"><a href="plotting1.html#saving-plots-to-a-file-with-pdf-jpeg-and-png"><i class="fa fa-check"></i><b>11.8</b> Saving plots to a file with <code>pdf()</code>, <code>jpeg()</code> and <code>png()</code></a></li>
<li class="chapter" data-level="11.9" data-path="plotting1.html"><a href="plotting1.html#test-your-r-might-purdy-pictures"><i class="fa fa-check"></i><b>11.9</b> Test your R might! Purdy pictures</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="solutions.html"><a href="solutions.html"><i class="fa fa-check"></i><b>12</b> Solutions</a></li>
<li class="chapter" data-level="13" data-path="placeholder.html"><a href="placeholder.html"><i class="fa fa-check"></i><b>13</b> Placeholder</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">YaRrr! The Pirate’s Guide to R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="plotting1" class="section level1">
<h1><span class="header-section-number">Chapter 11</span> Plotting (I)</h1>
<div class="figure" style="text-align: center"><span id="fig:sammy"></span>
<img src="images/sammy.jpg" alt="The great Sammy Davis Jr. Do yourself a favor and spend an evening watching videos of him performing on YouTube. Image used entirely without permission." width="50%" />
<p class="caption">
Figure 11.1: The great Sammy Davis Jr. Do yourself a favor and spend an evening watching videos of him performing on YouTube. Image used entirely without permission.
</p>
</div>
<p>Sammy Davis Jr. was one of the greatest American performers of all time. If you don’t know him already, Sammy was an American entertainer who lived from 1925 to 1990. The range of his talents was just incredible. He could sing, dance, act, and play multiple instruments with ease. So how is R like Sammy Davis Jr? Like Sammy Davis Jr., R is incredibly good at doing many different things. R does data analysis like Sammy dances, and creates plot like Sammy sings. If Sammy and R did just one of these things, they’d be great. The fact that they can do both is pretty amazing.</p>
<p>When you evaluate plotting functions in R, R can build the plot in different locations. The default location for plots is in a temporary plotting window within your R programming environment. In RStudio, plots will show up in the Plot window (typically on the bottom right hand window pane). In Base R, plots will show up in a Quartz window.</p>
<p>You can think of these plotting locations as canvases. You only have one canvas active at any given time, and any plotting command you run will put more plotting elements on your active canvas. Certain high–level plotting functions like <code>plot()</code> and <code>hist()</code> create brand new canvases, while other low–level plotting functions like <code>points()</code> and <code>segments()</code> place elements on top of existing canvases.</p>
<p>Don’t worry if that’s confusing for now – we’ll go over all the details soon.</p>
<p>Let’s start by looking at a basic scatterplot in R using the <code>plot()</code> function. When you execute the following code, you should see a plot open in a new window:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># A basic scatterplot</span>
<span class="kw">plot</span>(<span class="dt">x =</span> <span class="dv">1</span>:<span class="dv">10</span>,
     <span class="dt">y =</span> <span class="dv">1</span>:<span class="dv">10</span>,
     <span class="dt">xlab =</span> <span class="st">&quot;X Axis label&quot;</span>,
     <span class="dt">ylab =</span> <span class="st">&quot;Y Axis label&quot;</span>,
     <span class="dt">main =</span> <span class="st">&quot;Main Title&quot;</span>)</code></pre></div>
<p><img src="YaRrr_files/figure-html/basicplot-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Let’s take a look at the result. We see an x–axis, a y–axis, 10 data points, an x–axis label, a y–axis label, and a main plot title. Some of these items, like the labels and data points, were entered as arguments to the function. For example, the main arguments x and y are vectors indicating the x and y coordinates of the (in this case, 10) data points. The arguments <code>xlab</code>, <code>ylab</code>, and <code>main</code> set the labels to the plot. However, there were many elements that I did not specify – from the x and y axis limits, to the color of the plotting points. As you’ll discover later, you can change all of these elements (and many, many more) by specifying additional arguments to the <code>plot()</code> function. However, because I did not specify them, R used <strong>default</strong> values – values that R uses unless you tell it to use something else.</p>
<p>For the rest of this chapter, we’ll go over the main plotting functions, along with the most common arguments you can use to customize the look of your plot.</p>
<div id="colors" class="section level2">
<h2><span class="header-section-number">11.1</span> Colors</h2>
<p>Most plotting functions have a color argument (usually <code>col</code>) that allows you to specify the color of whatever your plotting. There are many ways to specify colors in R, let’s start with the easiest ways.</p>
<div id="colors-by-name" class="section level3">
<h3><span class="header-section-number">11.1.1</span> Colors by name</h3>
<p>The easiest way to specify a color is to enter its name as a string. For example <code>col = &quot;red&quot;</code> is R’s default version of the color red. Of course, all the basic colors are there, but R also has tons of quirky colors like <code>&quot;snow&quot;</code>, <code>&quot;papayawhip&quot;</code> and <code>&quot;lawngreen&quot;</code>. Figure <a href="plotting1.html#fig:randomcolors">11.2</a> shows 100 randomly selected named colors.</p>
<div class="figure" style="text-align: center"><span id="fig:randomcolors"></span>
<img src="YaRrr_files/figure-html/randomcolors-1.png" alt="100 random named colors (out of all 657) in R." width="768" />
<p class="caption">
Figure 11.2: 100 random named colors (out of all 657) in R.
</p>
</div>
<p>To see all 657 color names in R, run the code <code>colors()</code>. Or to see an interactive demo of colors, run <code>demo(&quot;colors&quot;)</code>.</p>
</div>
<div id="gray" class="section level3">
<h3><span class="header-section-number">11.1.2</span> gray()</h3>
<table style="width:90%;">
<caption><span id="tab:gray">Table 11.1: </span> <code>gray()</code> function arguments</caption>
<colgroup>
<col width="19%" />
<col width="70%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Argument</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>level</code></td>
<td align="left">Lightness: <code>level = 1</code> = totally white, <code>level = 0</code> = totally black</td>
</tr>
<tr class="even">
<td align="left"><code>alpha</code></td>
<td align="left">Transparency: <code>alpha = 0</code> = totally transparent, <code>alpha = 1</code> = not transparent at all.</td>
</tr>
</tbody>
</table>
<div class="figure" style="text-align: center"><span id="fig:graylevels"></span>
<img src="YaRrr_files/figure-html/graylevels-1.png" alt="Examples of gray(level, alpha)" width="672" />
<p class="caption">
Figure 11.3: Examples of gray(level, alpha)
</p>
</div>
<p>The <code>gray()</code> function takes two arguments, <code>level</code> and <code>alpha</code>, and returns a shade of gray. For example, <code>gray(level = 1)</code> will return white. The second <code>alpha</code> argument specifies how transparent to make the color on a scale from 0 (completely transparent), to 1 (not transparent at all). The default value for alpha is 1 (not transparent at all). See Figure <a href="plotting1.html#fig:graylevels">11.3</a> for examples.</p>
</div>
<div id="yarrrtransparent" class="section level3">
<h3><span class="header-section-number">11.1.3</span> <code>yarrr::transparent()</code></h3>
<p>I don’t know about you, but I almost always find transparent colors to be more appealing than solid colors. Not only do they help you see when multiple points are overlapping, but they’re just much nicer to look at. Just look at the overlapping circles in the plot below.</p>
<p><img src="YaRrr_files/figure-html/unnamed-chunk-3-1.png" width="480" style="display: block; margin: auto;" /></p>
<p>Unfortunately, as far as I know, base-R does not make it easy to make transparent colors. Thankfully, there is a function in the <code>yarrr</code> package called <code>transparent</code> that makes it very easy to make any color transparent. To use it, just enter the original color as the main argument <code>orig.col</code>, then enter how transparent you want to make it (from 0 to 1) as the second argument <code>trans.val</code>.</p>
<p>Here is a basic scatterplot with standard (non-transparent) colors:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Plot with Standard Colors</span>
<span class="kw">plot</span>(<span class="dt">x =</span> pirates$height, 
     <span class="dt">y =</span> pirates$weight, 
     <span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>, 
     <span class="dt">pch =</span> <span class="dv">16</span>, 
     <span class="dt">main =</span> <span class="st">&quot;col =&#39;blue&#39;&quot;</span>)</code></pre></div>
<p><img src="YaRrr_files/figure-html/unnamed-chunk-4-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Now here’s the same plot using the <code>transparent()</code> function in the <code>yarrr</code> package:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Plot with transparent colors using the transparent() function in the yarrr package</span>
<span class="kw">plot</span>(<span class="dt">x =</span> pirates$height, 
     <span class="dt">y =</span> pirates$weight, 
     <span class="dt">col =</span> yarrr::<span class="kw">transparent</span>(<span class="st">&quot;blue&quot;</span>, <span class="dt">trans.val =</span> .<span class="dv">9</span>), 
     <span class="dt">pch =</span> <span class="dv">16</span>, 
     <span class="dt">main =</span> <span class="st">&quot;col = yarrr::transparent(&#39;blue&#39;, .9)&quot;</span>)</code></pre></div>
<p><img src="YaRrr_files/figure-html/unnamed-chunk-5-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Later on in the book, we’ll cover more advanced ways to come up with colors using color palettes (using the RColorBrewer package or the <code>piratepal()</code> function in the yarrr package) and functions that generate shades of colors based on numeric data (like the <code>colorRamp2()</code> function in the <code>circlize</code> package).</p>
<!-- ## High vs. low-level plotting commands -->
<!-- There are two general types of plotting commands in R: high and low-level. High level plotting commands, like `plot()`, `hist()` and `pirateplot()` create entirely new plots. Within these high level plotting commands, you can define the general layout of the plot - like the axis limits and plot margins. -->
<!-- Low level plotting commands, like `points()`, `segments()`, and `text()` add elements to existing plots. These low level commands don't change the overall layout of a plot - they just add to what you've already created. Once you are done creating a plot, you can export the plot to a pdf or jpeg using the `pdf()` or `jpeg()` functions. Or, if you're creating documents in Markdown or Latex, you can add your plot directly to your document. -->
</div>
</div>
<div id="plotting-arguments" class="section level2">
<h2><span class="header-section-number">11.2</span> Plotting arguments</h2>
<p>Most plotting functions have <em>tons</em> of optional arguments (also called parameters) that you can use to customize virtually everything in a plot. To see all of them, look at the help menu for <code>par</code> by executing <code>?par</code>. However, the good news is that you don’t need to specify all possible parameters you create a plot. Instead, there are only a few critical arguments that you must specify - usually one or two vectors of data. For any optional arguments that you do not specify, R will use either a default value, or choose a value that makes sense based on the data you specify.</p>
<p>In the following examples, I will to cover the main plotting parameters for each plotting type. However, the best way to learn what you can, and can’t, do with plots, is to try to create them yourself!</p>
<p>I think the best way to learn how to create plots is to see some examples. Let’s start with the main high-level plotting functions.</p>
</div>
<div id="scatterplot-plot" class="section level2">
<h2><span class="header-section-number">11.3</span> Scatterplot: <code>plot()</code></h2>
<p>The most common high-level plotting function is <code>plot(x, y)</code>. The <code>plot()</code> function makes a scatterplot from two vectors x and y, where the x vector indicates the x (horizontal) values of the points, and the y vector indicates the y (vertical) values.</p>
<table style="width:90%;">
<caption><span id="tab:plot">Table 11.2: </span> <code>plot()</code> function arguments</caption>
<colgroup>
<col width="19%" />
<col width="70%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Argument</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>x, y</code></td>
<td align="left">Vectors of equal length specifying the x and y values of the points</td>
</tr>
<tr class="even">
<td align="left"><code>type</code></td>
<td align="left">Type of plot. <code>&quot;l&quot;</code> means lines, <code>&quot;p&quot;</code> means points, <code>&quot;b&quot;</code> means lines and points, <code>&quot;n&quot;</code> means no plotting</td>
</tr>
<tr class="odd">
<td align="left"><code>main</code>, <code>xlab</code>, <code>ylab</code></td>
<td align="left">Strings giving labels for the plot title, and x and y axes</td>
</tr>
<tr class="even">
<td align="left"><code>xlim</code>, <code>ylim</code></td>
<td align="left">Limits to the axes. For example, <code>xlim = c(0, 100)</code> will set the minimum and maximum of the x-axis to 0 and 100.</td>
</tr>
<tr class="odd">
<td align="left"><code>pch</code></td>
<td align="left">An integer indicating the type of plotting symbols (see <code>?points</code> and section below), or a string specifying symbols as text. For example, <code>pch = 21</code> will create a two-color circle, while <code>pch = &quot;P&quot;</code> will plot the character <code>&quot;P&quot;</code>. To see all the different symbol types, run <code>?points</code>.</td>
</tr>
<tr class="even">
<td align="left"><code>col</code></td>
<td align="left">Main color of the plotting symbols. For example <code>col = &quot;red&quot;</code> will create red symbols.</td>
</tr>
<tr class="odd">
<td align="left"><code>cex</code></td>
<td align="left">A numeric vector specifying the size of the symbols (from 0 to Inf). The default size is 1. <code>cex = 4</code> will make the points very large, while <code>cex = .5</code> will make them very small.</td>
</tr>
</tbody>
</table>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(<span class="dt">x =</span> <span class="dv">1</span>:<span class="dv">10</span>,                         <span class="co"># x-coordinates</span>
     <span class="dt">y =</span> <span class="dv">1</span>:<span class="dv">10</span>,                         <span class="co"># y-coordinates</span>
     <span class="dt">type =</span> <span class="st">&quot;p&quot;</span>,                       <span class="co"># Just draw points (no lines)</span>
     <span class="dt">main =</span> <span class="st">&quot;My First Plot&quot;</span>,
     <span class="dt">xlab =</span> <span class="st">&quot;This is the x-axis label&quot;</span>,
     <span class="dt">ylab =</span> <span class="st">&quot;This is the y-axis label&quot;</span>,
     <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">11</span>),                  <span class="co"># Min and max values for x-axis</span>
     <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">11</span>),                  <span class="co"># Min and max values for y-axis</span>
     <span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>,                     <span class="co"># Color of the points</span>
     <span class="dt">pch =</span> <span class="dv">16</span>,                         <span class="co"># Type of symbol (16 means Filled circle)</span>
     <span class="dt">cex =</span> <span class="dv">1</span>)                           <span class="co"># Size of the symbols</span></code></pre></div>
<p><img src="YaRrr_files/figure-html/unnamed-chunk-6-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Aside from the x and y arguments, all of the arguments are optional. If you don’t specify a specific argument, then R will use a default value, or try to come up with a value that makes sense. For example, if you don’t specify the <code>xlim</code> and <code>ylim</code> arguments, R will set the limits so that all the points fit inside the plot.</p>
<div id="symbol-types-pch" class="section level3">
<h3><span class="header-section-number">11.3.1</span> Symbol types: <code>pch</code></h3>
<p>When you create a plot with <code>plot()</code> (or points with <code>points()</code>), you can specify the type of symbol with the <code>pch</code> argument. You can specify the symbol type in one of two ways: with an integer, or with a string. If you use a string (like <code>&quot;p&quot;</code>), R will use that text as the plotting symbol. If you use an integer value, you’ll get the symbol that correspond to that number. See Figure for all the symbol types you can specify with an integer.</p>
<p>Symbols differ in their shape and how they are colored. Symbols 1 through 14 only have borders and are always empty, while symbols 15 through 20 don’t have a border and are always filled. Symbols 21 through 25 have both a border and a filling. To specify the border color or background for symbols 1 through 20, use the <code>col</code> argument. For symbols 21 through 25, you set the color of the border with <code>col</code>, and the color of the background using <code>bg</code></p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-7"></span>
<img src="YaRrr_files/figure-html/unnamed-chunk-7-1.png" alt="The symbol types associated with the pch plotting parameter." width="288" />
<p class="caption">
Figure 11.4: The symbol types associated with the pch plotting parameter.
</p>
</div>
<p>Let’s look at some different symbol types in action when applied to the same data:</p>
<p><img src="YaRrr_files/figure-html/unnamed-chunk-8-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="histogram-hist" class="section level2">
<h2><span class="header-section-number">11.4</span> Histogram: <code>hist()</code></h2>
<table style="width:90%;">
<caption><span id="tab:hist">Table 11.3: </span> <code>hist()</code> function arguments</caption>
<colgroup>
<col width="19%" />
<col width="70%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Argument</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>x</code></td>
<td align="left">Vector of values</td>
</tr>
<tr class="even">
<td align="left"><code>breaks</code></td>
<td align="left">How should the bin sizes be calculated? Can be specified in many ways (see <code>?hist</code> for details)</td>
</tr>
<tr class="odd">
<td align="left"><code>freq</code></td>
<td align="left">Should frequencies or probabilities be plotted? <code>freq = TRUE</code> shows frequencies, <code>freq = FALSE</code> shows probabilities.</td>
</tr>
<tr class="even">
<td align="left"><code>col</code>, <code>border</code></td>
<td align="left">Colors of the bin filling (<code>col</code>) and border (<code>border</code>)</td>
</tr>
</tbody>
</table>
<p>Histograms are the most common way to plot a vector of numeric data. To create a histogram we’ll use the <code>hist()</code> function. The main argument to <code>hist()</code> is a <code>x</code>, a vector of numeric data. If you want to specify how the histogram bins are created, you can use the <code>breaks</code> argument. To change the color of the border or background of the bins, use <code>col</code> and <code>border</code>:</p>
<p>Let’s create a histogram of the weights in the ChickWeight dataset:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">hist</span>(<span class="dt">x =</span> ChickWeight$weight,
     <span class="dt">main =</span> <span class="st">&quot;Chicken Weights&quot;</span>,
     <span class="dt">xlab =</span> <span class="st">&quot;Weight&quot;</span>,
     <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">500</span>))</code></pre></div>
<p><img src="YaRrr_files/figure-html/unnamed-chunk-9-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>We can get more fancy by adding additional arguments like <code>breaks = 20</code> to force there to be 20 bins, and <code>col = &quot;papayawhip&quot;</code> and <code>bg = &quot;hotpink&quot;</code> to make it a bit more colorful:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">hist</span>(<span class="dt">x =</span> ChickWeight$weight,
     <span class="dt">main =</span> <span class="st">&quot;Fancy Chicken Weight Histogram&quot;</span>,
     <span class="dt">xlab =</span> <span class="st">&quot;Weight&quot;</span>,
     <span class="dt">ylab =</span> <span class="st">&quot;Frequency&quot;</span>,
     <span class="dt">breaks =</span> <span class="dv">20</span>, <span class="co"># 20 Bins</span>
     <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">500</span>),
     <span class="dt">col =</span> <span class="st">&quot;papayawhip&quot;</span>, <span class="co"># Filling Color</span>
     <span class="dt">border =</span> <span class="st">&quot;hotpink&quot;</span>) <span class="co"># Border Color</span></code></pre></div>
<p><img src="YaRrr_files/figure-html/unnamed-chunk-10-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>If you want to plot two histograms on the same plot, for example, to show the distributions of two different groups, you can use the  argument to the second plot.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">hist</span>(<span class="dt">x =</span> ChickWeight$weight[ChickWeight$Diet ==<span class="st"> </span><span class="dv">1</span>],
     <span class="dt">main =</span> <span class="st">&quot;Two Histograms in one&quot;</span>,
     <span class="dt">xlab =</span> <span class="st">&quot;Weight&quot;</span>,
     <span class="dt">ylab =</span> <span class="st">&quot;Frequency&quot;</span>,
     <span class="dt">breaks =</span> <span class="dv">20</span>,
     <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">500</span>),
     <span class="dt">col =</span> <span class="kw">gray</span>(<span class="dv">0</span>, .<span class="dv">5</span>))

<span class="kw">hist</span>(<span class="dt">x =</span> ChickWeight$weight[ChickWeight$Diet ==<span class="st"> </span><span class="dv">2</span>],
     <span class="dt">breaks =</span> <span class="dv">30</span>,
     <span class="dt">add =</span> <span class="ot">TRUE</span>, <span class="co"># Add plot to previous one!</span>
     <span class="dt">col =</span> <span class="kw">gray</span>(<span class="dv">1</span>, .<span class="dv">8</span>))</code></pre></div>
<p><img src="YaRrr_files/figure-html/unnamed-chunk-11-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="barplot-barplot" class="section level2">
<h2><span class="header-section-number">11.5</span> Barplot: <code>barplot()</code></h2>
<p>A barplot typically shows summary statistics for different groups. The primary argument to a barplot is <code>height</code>: a vector of numeric values which will generate the height of each bar. To add names below the bars, use the <code>names.arg</code> argument. For additional arguments specific to <code>barplot()</code>, look at the help menu with <code>?barplot</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">barplot</span>(<span class="dt">height =</span> <span class="dv">1</span>:<span class="dv">5</span>,  <span class="co"># A vector of heights</span>
        <span class="dt">names.arg =</span> <span class="kw">c</span>(<span class="st">&quot;G1&quot;</span>, <span class="st">&quot;G2&quot;</span>, <span class="st">&quot;G3&quot;</span>, <span class="st">&quot;G4&quot;</span>, <span class="st">&quot;G5&quot;</span>), <span class="co"># A vector of names</span>
        <span class="dt">main =</span> <span class="st">&quot;Example Barplot&quot;</span>, 
        <span class="dt">xlab =</span> <span class="st">&quot;Group&quot;</span>, 
        <span class="dt">ylab =</span> <span class="st">&quot;Height&quot;</span>)</code></pre></div>
<p><img src="YaRrr_files/figure-html/unnamed-chunk-12-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Of course, you should plot more interesting data than just a vector of integers with a barplot. In the plot below, I create a barplot with the average weight of chickens for each week:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Calculate mean weights for each time period</span>
diet.weights &lt;-<span class="st"> </span><span class="kw">aggregate</span>(weight ~<span class="st"> </span>Time, 
                      <span class="dt">data =</span> ChickWeight,
                      <span class="dt">FUN =</span> mean)

<span class="co"># Create barplot</span>
<span class="kw">barplot</span>(<span class="dt">height =</span> diet.weights$weight,
        <span class="dt">names.arg =</span> diet.weights$Time,
        <span class="dt">xlab =</span> <span class="st">&quot;Week&quot;</span>,
        <span class="dt">ylab =</span> <span class="st">&quot;Average Weight&quot;</span>,
        <span class="dt">main =</span> <span class="st">&quot;Average Chicken Weights by Time&quot;</span>,
        <span class="dt">col =</span> <span class="st">&quot;mistyrose&quot;</span>)</code></pre></div>
<p><img src="YaRrr_files/figure-html/unnamed-chunk-13-1.png" width="672" style="display: block; margin: auto;" /></p>
<div id="clustered-barplot" class="section level3">
<h3><span class="header-section-number">11.5.1</span> Clustered barplot</h3>
<p>If you want to create a clustered barplot, with different bars for different groups of data, you can enter a matrix as the argument to <code>height</code>. R will then plot each column of the matrix as a separate set of bars. For example, let’s say I conducted an experiment where I compared how fast pirates can swim under four conditions: Wearing clothes versus being naked, and while being chased by a shark versus not being chased by a shark. Let’s say I conducted this experiment and calculated the following average swimming speed:</p>
<table>
<thead>
<tr class="header">
<th></th>
<th align="right">Naked</th>
<th align="right">Clothed</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>No Shark</td>
<td align="right">2.1</td>
<td align="right">1.5</td>
</tr>
<tr class="even">
<td>Shark</td>
<td align="right">3.0</td>
<td align="right">3.0</td>
</tr>
</tbody>
</table>
<p>I can represent these data in a matrix as follows. In order for the final barplot to include the condition names, I’ll add row and column names to the matrix with <code>colnames()</code> and <code>rownames()</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">swim.data &lt;-<span class="st"> </span><span class="kw">cbind</span>(<span class="kw">c</span>(<span class="fl">2.1</span>, <span class="dv">3</span>), <span class="co"># Naked Times</span>
                   <span class="kw">c</span>(<span class="fl">1.5</span>, <span class="dv">3</span>)) <span class="co"># Clothed Times</span>

<span class="kw">colnames</span>(swim.data) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Naked&quot;</span>, <span class="st">&quot;Clothed&quot;</span>)
<span class="kw">rownames</span>(swim.data) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;No Shark&quot;</span>, <span class="st">&quot;Shark&quot;</span>)

<span class="co"># Print result</span>
swim.data
##          Naked Clothed
## No Shark   2.1     1.5
## Shark      3.0     3.0</code></pre></div>
<p>Now, when I enter this matrix as the <code>height = swim.data</code> argument to <code>barplot()</code>, I’ll get multiple bars.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">barplot</span>(<span class="dt">height =</span> swim.data,
        <span class="dt">beside =</span> <span class="ot">TRUE</span>,                        <span class="co"># Put the bars next to each other</span>
        <span class="dt">legend.text =</span> <span class="ot">TRUE</span>,                   <span class="co"># Add a legend</span>
        <span class="dt">col =</span> <span class="kw">c</span>(<span class="kw">transparent</span>(<span class="st">&quot;green&quot;</span>, .<span class="dv">2</span>), 
                <span class="kw">transparent</span>(<span class="st">&quot;red&quot;</span>, .<span class="dv">2</span>)),
        <span class="dt">main =</span> <span class="st">&quot;Swimming Speed Experiment&quot;</span>,
        <span class="dt">ylab =</span> <span class="st">&quot;Speed (in meters / second)&quot;</span>,
        <span class="dt">xlab =</span> <span class="st">&quot;Clothing Condition&quot;</span>,
        <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">4</span>))</code></pre></div>
<p><img src="YaRrr_files/figure-html/unnamed-chunk-16-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="pirateplot" class="section level2">
<h2><span class="header-section-number">11.6</span> <code>pirateplot()</code></h2>
<table style="width:90%;">
<caption><span id="tab:pirateplot">Table 11.4: </span> <code>pirateplot()</code> function arguments</caption>
<colgroup>
<col width="19%" />
<col width="70%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Argument</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>formula</code></td>
<td align="left">A formula specifying a y-axis variable as a function of 1, 2 or 3 x-axis variables. For example, <code>formula = weight ~ Diet + Time</code> will plot <code>weight</code> as a function of <code>Diet</code> and <code>Time</code></td>
</tr>
<tr class="even">
<td align="left"><code>data</code></td>
<td align="left">A dataframe containing the variables specified in <code>formula</code></td>
</tr>
<tr class="odd">
<td align="left"><code>theme</code></td>
<td align="left">A plotting theme, can be an integer from 1 to 4. Setting <code>theme = 0</code> will turn off all plotting elements so you can then turn them on individually.</td>
</tr>
<tr class="even">
<td align="left"><code>pal</code></td>
<td align="left">The color palette. Can either be a named color palette from the <code>piratepal()</code> function (e.g. <code>&quot;basel&quot;</code>, <code>&quot;xmen&quot;</code>, <code>&quot;google&quot;</code>) or a standard R color. For example, make a black and white plot, set <code>pal = &quot;black&quot;</code></td>
</tr>
<tr class="odd">
<td align="left"><code>cap.beans</code></td>
<td align="left">If <code>cap.beans = TRUE</code>, beans will be cut off at the maximum and minimum data values</td>
</tr>
</tbody>
</table>
<p>A pirateplot a plot contained in the <code>yarrr</code> package written specifically by, and for R pirates The pirateplot is an easy-to-use function that, unlike barplots and boxplots, can easily show raw data, descriptive statistics, and inferential statistics in one plot. Figure <a href="plotting1.html#fig:pirateplot">11.5</a> shows the four key elements in a pirateplot:</p>
<div class="figure" style="text-align: center"><span id="fig:pirateplot"></span>
<img src="YaRrr_files/figure-html/pirateplot-1.png" alt="The pirateplot(), an R pirate's favorite plot!" width="672" />
<p class="caption">
Figure 11.5: The pirateplot(), an R pirate’s favorite plot!
</p>
</div>
<table style="width:90%;">
<caption><span id="tab:pirateplotelements">Table 11.5: </span> 4 elements of a <code>pirateplot()</code></caption>
<colgroup>
<col width="19%" />
<col width="70%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Element</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Points</td>
<td align="left"><strong>Raw</strong> data.</td>
</tr>
<tr class="even">
<td align="left">Bar / Line</td>
<td align="left"><strong>Descriptive</strong> statistic, usually the mean or median</td>
</tr>
<tr class="odd">
<td align="left">Bean</td>
<td align="left">Smoothed density curve showing the full data distribution.</td>
</tr>
<tr class="even">
<td align="left">Band</td>
<td align="left"><strong>Inference</strong> around the mean, either a Bayesian Highest Density Intervial (HDI), or a Confidence Interval (CI)</td>
</tr>
</tbody>
</table>
<p>The two main arguments to <code>pirateplot()</code> are <code>formula</code> and <code>data</code>. In <code>formula</code>, you specify plotting variables in the form <code>y ~ x</code>, where <code>y</code> is the name of the dependent variable, and <code>x</code> is the name of the independent variable. In <code>data</code>, you specify the name of the dataframe object where the variables are stored.</p>
<p>Let’s create a pirateplot of the ChickWeight data. I’ll set the dependent variable to <code>weight</code>, and the independent variable to <code>Time</code> using the argument <code>formula = weight ~ Time</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">yarrr::<span class="kw">pirateplot</span>(<span class="dt">formula =</span> weight ~<span class="st"> </span>Time, <span class="co"># dv is weight, iv is Diet</span>
                   <span class="dt">data =</span> ChickWeight,
                   <span class="dt">main =</span> <span class="st">&quot;Pirateplot of chicken weights&quot;</span>,
                   <span class="dt">xlab =</span> <span class="st">&quot;Diet&quot;</span>,
                   <span class="dt">ylab =</span> <span class="st">&quot;Weight&quot;</span>)</code></pre></div>
<p><img src="YaRrr_files/figure-html/chickpirateplot-1.png" width="768" style="display: block; margin: auto;" /></p>
<div id="pirateplot-themes" class="section level3">
<h3><span class="header-section-number">11.6.1</span> Pirateplot themes</h3>
<p>There are many different pirateplot themes, these themes dictate the overall look of the plot. To specify a theme, just use the <code>theme = x</code> argument, where <code>x</code> is the theme number:</p>
<p><img src="YaRrr_files/figure-html/unnamed-chunk-17-1.png" width="768" style="display: block; margin: auto;" /></p>
<p>For example, here is a pirateplot height data from the <code>pirates</code> dataframe using <code>theme = 3</code>. Here, I’ll plot pirates’ heights as a function of their sex and whether or not they wear a headband. I’ll also make the plot all grayscale by using the <code>pal = &quot;gray&quot;</code> argument:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">yarrr::<span class="kw">pirateplot</span>(<span class="dt">formula =</span> height ~<span class="st"> </span>sex +<span class="st"> </span>headband,    <span class="co"># DV = height, IV1 = sex, IV2 = headband</span>
                  <span class="dt">data =</span> pirates,           
                  <span class="dt">theme =</span> <span class="dv">3</span>,
                  <span class="dt">main =</span> <span class="st">&quot;Pirate Heights&quot;</span>,
                  <span class="dt">pal =</span> <span class="st">&quot;gray&quot;</span>)</code></pre></div>
<p><img src="YaRrr_files/figure-html/unnamed-chunk-18-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="customizing-pirateplots" class="section level3">
<h3><span class="header-section-number">11.6.2</span> Customizing pirateplots</h3>
<p>Regardless of the theme you use, you can always customize the color and opacity of graphical elements. To do this, specify one of the following arguments. Note: Arguments with <code>.f.</code> correspond to the <em>filling</em> of an element, while <code>.b.</code> correspond to the <em>border</em> of an element:</p>
<table>
<caption><span id="tab:unnamed-chunk-19">Table 11.6: </span>Customising plotting elements</caption>
<thead>
<tr class="header">
<th align="left">element</th>
<th align="left">color</th>
<th align="left">opacity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">points</td>
<td align="left">point.col, point.bg</td>
<td align="left">point.o</td>
</tr>
<tr class="even">
<td align="left">beans</td>
<td align="left">bean.f.col, bean.b.col</td>
<td align="left">bean.f.o, bean.b.o</td>
</tr>
<tr class="odd">
<td align="left">bar</td>
<td align="left">bar.f.col, bar.b.col</td>
<td align="left">bar.f.o, bar.b.o</td>
</tr>
<tr class="even">
<td align="left">inf</td>
<td align="left">inf.f.col, inf.b.col</td>
<td align="left">inf.f.o, inf.b.o</td>
</tr>
<tr class="odd">
<td align="left">avg.line</td>
<td align="left">avg.line.col</td>
<td align="left">avg.line.o</td>
</tr>
</tbody>
</table>
<p>For example, I could create the following pirateplots using <code>theme = 0</code> and specifying elements explicitly:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">pirateplot</span>(<span class="dt">formula =</span> weight ~<span class="st"> </span>Time,
           <span class="dt">data =</span> ChickWeight,
           <span class="dt">theme =</span> <span class="dv">0</span>,
           <span class="dt">main =</span> <span class="st">&quot;Fully customized pirateplot&quot;</span>,
           <span class="dt">pal =</span> <span class="st">&quot;southpark&quot;</span>, <span class="co"># southpark color palette</span>
           <span class="dt">bean.f.o =</span> .<span class="dv">6</span>, <span class="co"># Bean fill</span>
           <span class="dt">point.o =</span> .<span class="dv">3</span>, <span class="co"># Points</span>
           <span class="dt">inf.f.o =</span> .<span class="dv">7</span>, <span class="co"># Inference fill</span>
           <span class="dt">inf.b.o =</span> .<span class="dv">8</span>, <span class="co"># Inference border</span>
           <span class="dt">avg.line.o =</span> <span class="dv">1</span>, <span class="co"># Average line</span>
           <span class="dt">bar.f.o =</span> .<span class="dv">5</span>, <span class="co"># Bar</span>
           <span class="dt">inf.f.col =</span> <span class="st">&quot;white&quot;</span>, <span class="co"># Inf fill col</span>
           <span class="dt">inf.b.col =</span> <span class="st">&quot;black&quot;</span>, <span class="co"># Inf border col</span>
           <span class="dt">avg.line.col =</span> <span class="st">&quot;black&quot;</span>, <span class="co"># avg line col</span>
           <span class="dt">bar.f.col =</span> <span class="kw">gray</span>(.<span class="dv">8</span>), <span class="co"># bar filling color</span>
           <span class="dt">point.pch =</span> <span class="dv">21</span>,
           <span class="dt">point.bg =</span> <span class="st">&quot;white&quot;</span>,
           <span class="dt">point.col =</span> <span class="st">&quot;black&quot;</span>,
           <span class="dt">point.cex =</span> .<span class="dv">7</span>)</code></pre></div>
<p><img src="YaRrr_files/figure-html/unnamed-chunk-20-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>If you don’t want to start from scratch, you can also start with a theme, and then make selective adjustments:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">pirateplot</span>(<span class="dt">formula =</span> weight ~<span class="st"> </span>Time,
           <span class="dt">data =</span> ChickWeight,
           <span class="dt">main =</span> <span class="st">&quot;Adjusting an existing theme&quot;</span>,
           <span class="dt">theme =</span> <span class="dv">2</span>,  <span class="co"># Start with theme 2</span>
           <span class="dt">inf.f.o =</span> <span class="dv">0</span>, <span class="co"># Turn off inf fill</span>
           <span class="dt">inf.b.o =</span> <span class="dv">0</span>, <span class="co"># Turn off inf border</span>
           <span class="dt">point.o =</span> .<span class="dv">2</span>,   <span class="co"># Turn up points</span>
           <span class="dt">bar.f.o =</span> .<span class="dv">5</span>, <span class="co"># Turn up bars</span>
           <span class="dt">bean.f.o =</span> .<span class="dv">4</span>, <span class="co"># Light bean filling</span>
           <span class="dt">bean.b.o =</span> .<span class="dv">2</span>, <span class="co"># Light bean border</span>
           <span class="dt">avg.line.o =</span> <span class="dv">0</span>, <span class="co"># Turn off average line</span>
           <span class="dt">point.col =</span> <span class="st">&quot;black&quot;</span>) <span class="co"># Black points</span></code></pre></div>
<p><img src="YaRrr_files/figure-html/unnamed-chunk-21-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Just to drive the point home, as a barplot is a special case of a pirateplot, you can even reduce a pirateplot into a horrible barplot:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Reducing a pirateplot to a (at least colorful) barplot</span>
<span class="kw">pirateplot</span>(<span class="dt">formula =</span> weight ~<span class="st"> </span>Diet,
           <span class="dt">data =</span> ChickWeight,
           <span class="dt">main =</span> <span class="st">&quot;Reducing a pirateplot to a (horrible) barplot&quot;</span>,
           <span class="dt">theme =</span> <span class="dv">0</span>,                                    <span class="co"># Start from scratch</span>
           <span class="dt">pal =</span> <span class="st">&quot;black&quot;</span>,
           <span class="dt">inf.disp =</span> <span class="st">&quot;line&quot;</span>,                            <span class="co"># Use a line for inference</span>
           <span class="dt">inf.f.o =</span> <span class="dv">1</span>,                                  <span class="co"># Turn up inference opacity</span>
           <span class="dt">inf.f.col =</span> <span class="st">&quot;black&quot;</span>,                          <span class="co"># Set inference line color</span>
           <span class="dt">bar.f.o =</span> .<span class="dv">3</span>)                                </code></pre></div>
<p><img src="YaRrr_files/figure-html/unnamed-chunk-22-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>There are many additional arguments to <code>pirateplot()</code> that you can use to complete customize the look of your plot. To see them all, look at the help menu with <code>?pirateplot</code> or look at the vignette at <a href=""></a></p>
<table>
<caption><span id="tab:pirateplotcustomisation">Table 11.7: </span> Additional <code>pirateplot()</code> customizations.</caption>
<colgroup>
<col width="21%" />
<col width="26%" />
<col width="52%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Element</th>
<th align="left">Argument</th>
<th align="left">Examples</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Background color</td>
<td align="left">back.col</td>
<td align="left"><code>back.col = 'gray(.9, .9)'</code></td>
</tr>
<tr class="even">
<td align="left">Gridlines</td>
<td align="left">gl.col, gl.lwd, gl.lty</td>
<td align="left"><code>gl.col = 'gray', gl.lwd = c(.75, 0), gl.lty = 1</code></td>
</tr>
<tr class="odd">
<td align="left">Quantiles</td>
<td align="left">quant, quant.lwd, quant.col</td>
<td align="left"><code>quant = c(.1, .9), quant.lwd = 1, quant.col = 'black'</code></td>
</tr>
<tr class="even">
<td align="left">Average line</td>
<td align="left">avg.line.fun</td>
<td align="left"><code>avg.line.fun = median</code></td>
</tr>
<tr class="odd">
<td align="left">Inference Calculation</td>
<td align="left">inf.method</td>
<td align="left"><code>inf.method = 'hdi'</code>, <code>inf.method = 'ci'</code></td>
</tr>
<tr class="even">
<td align="left">Inference Display</td>
<td align="left">inf.disp</td>
<td align="left"><code>inf.disp = 'line'</code>, <code>inf.disp = 'bean'</code>, <code>inf.disp = 'rect'</code></td>
</tr>
</tbody>
</table>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Additional pirateplot customizations</span>
<span class="kw">pirateplot</span>(<span class="dt">formula =</span> weight ~<span class="st"> </span>Diet, 
           <span class="dt">data =</span> ChickWeight,
           <span class="dt">main =</span> <span class="st">&quot;Adding quantile lines and background colors&quot;</span>,
           <span class="dt">theme =</span> <span class="dv">2</span>,
           <span class="dt">cap.beans =</span> <span class="ot">TRUE</span>,
           <span class="dt">back.col =</span> <span class="kw">transparent</span>(<span class="st">&quot;blue&quot;</span>, .<span class="dv">95</span>), <span class="co"># Add light blue background</span>
           <span class="dt">gl.col =</span> <span class="st">&quot;gray&quot;</span>, <span class="co"># Gray gridlines</span>
           <span class="dt">gl.lwd =</span> <span class="kw">c</span>(.<span class="dv">75</span>, <span class="dv">0</span>),
           <span class="dt">inf.f.o =</span> .<span class="dv">6</span>, <span class="co"># Turn up inf filling</span>
           <span class="dt">inf.disp =</span> <span class="st">&quot;bean&quot;</span>, <span class="co"># Wrap inference around bean</span>
           <span class="dt">bean.b.o =</span> .<span class="dv">4</span>, <span class="co"># Turn down bean borders</span>
           <span class="dt">quant =</span> <span class="kw">c</span>(.<span class="dv">1</span>, .<span class="dv">9</span>), <span class="co"># 10th and 90th quantiles</span>
           <span class="dt">quant.col =</span> <span class="st">&quot;black&quot;</span>) <span class="co"># Black quantile lines</span></code></pre></div>
<p><img src="YaRrr_files/figure-html/unnamed-chunk-23-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="saving-output" class="section level3">
<h3><span class="header-section-number">11.6.3</span> Saving output</h3>
<p>If you include the <code>plot = FALSE</code> argument to a pirateplot, the function will return some values associated with each bean in the plot. In the next chunk, I’ll</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create a pirateplot</span>
<span class="kw">pirateplot</span>(<span class="dt">formula =</span> tattoos ~<span class="st"> </span>sex +<span class="st"> </span>headband,
           <span class="dt">data =</span> pirates)</code></pre></div>
<p><img src="YaRrr_files/figure-html/unnamed-chunk-24-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="co"># Save data from the pirateplot to an object</span>
tattoos.pp &lt;-<span class="st"> </span><span class="kw">pirateplot</span>(<span class="dt">formula =</span> tattoos ~<span class="st"> </span>sex +<span class="st"> </span>headband,
                         <span class="dt">data =</span> pirates,
                         <span class="dt">plot =</span> <span class="ot">FALSE</span>)</code></pre></div>
<p>Now I can access the summary and inferential statistics from the plot in the <code>tattoos.pp</code> object. The most interesting element is <code>$summary</code> which shows summary statistics for each bean (aka, group):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Show me statistics from groups in the pirateplot</span>
tattoos.pp
## $summary
##      sex headband bean.num   n  avg inf.lb inf.ub
## 1 female       no        1  55  5.0    4.2    5.6
## 2   male       no        2  47  4.3    3.4    5.1
## 3  other       no        3  11  5.3    2.2    7.3
## 4 female      yes        4 409 10.0    9.7   10.3
## 5   male      yes        5 443 10.0    9.7   10.3
## 6  other      yes        6  35 10.6    9.9   11.3
## 
## $avg.line.fun
## [1] &quot;mean&quot;
## 
## $inf.method
## [1] &quot;hdi&quot;
## 
## $inf.p
## [1] 0.95</code></pre></div>
<p>Once you’ve created a plot with a high-level plotting function, you can add additional elements with <em>low-level</em> functions. For example, you can add data points with <code>points()</code>, reference lines with <code>abline()</code>, text with <code>text()</code>, and legends with <code>legend()</code>.</p>
</div>
</div>
<div id="low-level-plotting-functions" class="section level2">
<h2><span class="header-section-number">11.7</span> Low-level plotting functions</h2>
<p>Low-level plotting functions allow you to add elements, like points, or lines, to an existing plot. Here are the most common low-level plotting functions:</p>
<table>
<caption><span id="tab:lowlevelplotting">Table 11.8: </span> Common low-level plotting functions.</caption>
<thead>
<tr class="header">
<th align="left">Function</th>
<th align="left">Outcome</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>points(x, y)</code></td>
<td align="left">Adds points</td>
</tr>
<tr class="even">
<td align="left"><code>abline()</code>, <code>segments()</code></td>
<td align="left">Adds lines or segments</td>
</tr>
<tr class="odd">
<td align="left"><code>arrows()</code></td>
<td align="left">Adds arrows</td>
</tr>
<tr class="even">
<td align="left"><code>curve()</code></td>
<td align="left">Adds a curve representing a function</td>
</tr>
<tr class="odd">
<td align="left"><code>rect()</code>,<code>polygon()</code></td>
<td align="left">Adds a rectangle or arbitrary shape</td>
</tr>
<tr class="even">
<td align="left"><code>text()</code>, <code>mtext()</code></td>
<td align="left">Adds text within the plot, or to plot margins</td>
</tr>
<tr class="odd">
<td align="left"><code>legend()</code></td>
<td align="left">Adds a legend</td>
</tr>
<tr class="even">
<td align="left"><code>axis()</code></td>
<td align="left">Adds an axis</td>
</tr>
</tbody>
</table>
<div id="starting-with-a-blank-plot" class="section level3">
<h3><span class="header-section-number">11.7.1</span> Starting with a blank plot</h3>
<div class="figure" style="text-align: center"><span id="fig:canvas"></span>
<img src="images/canvas.jpg" alt="Sometimes it's nice to start with a blank plotting canvas, and then add each element individually with low-level plotting commands" width="75%" />
<p class="caption">
Figure 11.6: Sometimes it’s nice to start with a blank plotting canvas, and then add each element individually with low-level plotting commands
</p>
</div>
<p>Before you start adding elements with low-level plotting functions, it’s useful to start with a blank plotting space like the one I have in Figure <a href="plotting1.html#fig:blankplot">11.7</a>. To do this, execute the <code>plot()</code> function, but use the <code>type = &quot;n&quot;</code> argument to tell R that you don’t want to plot anything yet. Once you’ve created a blank plot, you can additional elements with low-level plotting commands.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create a blank plotting space</span>
<span class="kw">plot</span>(<span class="dt">x =</span> <span class="dv">1</span>,                 
     <span class="dt">xlab =</span> <span class="st">&quot;X Label&quot;</span>, 
     <span class="dt">ylab =</span> <span class="st">&quot;Y Label&quot;</span>,
     <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">100</span>), 
     <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">100</span>),
     <span class="dt">main =</span> <span class="st">&quot;Blank Plotting Canvas&quot;</span>,
     <span class="dt">type =</span> <span class="st">&quot;n&quot;</span>)</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:blankplot"></span>
<img src="YaRrr_files/figure-html/blankplot-1.png" alt="A blank plotting space, ready for additional elements!" width="672" />
<p class="caption">
Figure 11.7: A blank plotting space, ready for additional elements!
</p>
</div>
</div>
<div id="points" class="section level3">
<h3><span class="header-section-number">11.7.2</span> <code>points()</code></h3>
<p>To add new points to an existing plot, use the <code>points()</code> function. The <code>points</code> function has many similar arguments to the <code>plot()</code> function, like <code>x</code> (for the x-coordinates), <code>y</code> (for the y-coordinates), and parameters like <code>col</code> (border color), <code>cex</code> (point size), and <code>pch</code> (symbol type). To see all of them, look at the help menu with <code>?points()</code>.</p>
<p>Let’s use <code>points()</code> to create a plot with different symbol types for different data. I’ll use the pirates dataset and plot the relationship between a pirate’s age and the number of tattoos he/she has. I’ll create separate points for male and female pirates:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create a blank plot</span>
<span class="kw">plot</span>(<span class="dt">x =</span> <span class="dv">1</span>,
     <span class="dt">type =</span> <span class="st">&quot;n&quot;</span>,
     <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">100</span>, <span class="dv">225</span>), 
     <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">30</span>, <span class="dv">110</span>),
     <span class="dt">pch =</span> <span class="dv">16</span>,
     <span class="dt">xlab =</span> <span class="st">&quot;Height&quot;</span>, 
     <span class="dt">ylab =</span> <span class="st">&quot;Weight&quot;</span>,
     <span class="dt">main =</span> <span class="st">&quot;Adding points to a plot with points()&quot;</span>)

<span class="co"># Add coral2 points for male data</span>
<span class="kw">points</span>(<span class="dt">x =</span> pirates$height[pirates$sex ==<span class="st"> &quot;male&quot;</span>],
       <span class="dt">y =</span> pirates$weight[pirates$sex ==<span class="st"> &quot;male&quot;</span>],
       <span class="dt">pch =</span> <span class="dv">16</span>,
       <span class="dt">col =</span> <span class="kw">transparent</span>(<span class="st">&quot;coral2&quot;</span>, <span class="dt">trans.val =</span> .<span class="dv">8</span>))

<span class="co"># Add steelblue points for female data</span>
<span class="kw">points</span>(<span class="dt">x =</span> pirates$height[pirates$sex ==<span class="st"> &quot;female&quot;</span>],
       <span class="dt">y =</span> pirates$weight[pirates$sex ==<span class="st"> &quot;female&quot;</span>],
       <span class="dt">pch =</span> <span class="dv">16</span>,
       <span class="dt">col =</span> <span class="kw">transparent</span>(<span class="st">&quot;steelblue3&quot;</span>, <span class="dt">trans.val =</span> .<span class="dv">8</span>))</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:pointsexample"></span>
<img src="YaRrr_files/figure-html/pointsexample-1.png" alt="Using points() to add points with different colors" width="672" />
<p class="caption">
Figure 11.8: Using points() to add points with different colors
</p>
</div>
</div>
<div id="abline-segments" class="section level3">
<h3><span class="header-section-number">11.7.3</span> <code>abline()</code>, <code>segments()</code></h3>
<table style="width:68%;">
<caption><span id="tab:linearguments">Table 11.9: </span> Arguments to <code>abline()</code> and <code>segments()</code></caption>
<colgroup>
<col width="15%" />
<col width="52%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Argument</th>
<th align="left">Outcome</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>lty</code></td>
<td align="left">Line type. 1 = solid, 2 = dashed, 3 = dotted, …</td>
</tr>
<tr class="even">
<td align="left"><code>lwd</code></td>
<td align="left">Width of the lines specified by a number. 1 is the default (.2 is very thin, 5 is very thick)</td>
</tr>
<tr class="odd">
<td align="left"><code>col</code></td>
<td align="left">Line color</td>
</tr>
</tbody>
</table>
<p>To add straight lines to a plot, use <code>abline()</code> or <code>segments()</code>. <code>abline()</code> will add a line across the entire plot, while <code>segments()</code> will add a line with defined starting and end points.</p>
<p>For example, we can add reference lines to a plot with <code>abline()</code>. In the following plot, I’ll add vertical and horizontal reference lines showing the means of the variables on the x and y axes:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(<span class="dt">x =</span> pirates$weight,
     <span class="dt">y =</span> pirates$height,
     <span class="dt">xlab =</span> <span class="st">&quot;weight&quot;</span>,
     <span class="dt">ylab =</span> <span class="st">&quot;height&quot;</span>,
     <span class="dt">main =</span> <span class="st">&quot;Adding reference lines with abline&quot;</span>, 
     <span class="dt">pch =</span> <span class="dv">16</span>, 
     <span class="dt">col =</span> <span class="kw">gray</span>(.<span class="dv">5</span>, .<span class="dv">2</span>))

<span class="co"># Add horizontal line at mean height</span>
<span class="kw">abline</span>(<span class="dt">h =</span> <span class="kw">mean</span>(pirates$height), 
       <span class="dt">lty =</span> <span class="dv">2</span>)                        <span class="co"># Dashed line</span>

<span class="co"># Add vertical line at mean weight</span>
<span class="kw">abline</span>(<span class="dt">v =</span> <span class="kw">mean</span>(pirates$weight),
       <span class="dt">lty =</span> <span class="dv">2</span>)                        <span class="co"># Dashed line</span></code></pre></div>
<p><img src="YaRrr_files/figure-html/unnamed-chunk-26-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>To change the look of your lines, use the <code>lty</code> argument, which changes the type of line (see Figure <a href="plotting1.html#fig:ltytypes">11.9</a>), <code>lwd</code>, which changes its thickness, and <code>col</code> which changes its color</p>
<div class="figure" style="text-align: center"><span id="fig:ltytypes"></span>
<img src="YaRrr_files/figure-html/ltytypes-1.png" alt="Changing line type with the lty argument." width="384" />
<p class="caption">
Figure 11.9: Changing line type with the lty argument.
</p>
</div>
<p>The <code>segments()</code> function works very similarly to <code>abline()</code> – however, with the <code>segments()</code> function, you specify the beginning and end points of the segments with the arguments <code>x0</code>, <code>y0</code>, <code>x1</code>, and <code>y1</code>. In Figure <a href="plotting1.html#fig:segments">11.10</a> I use <code>segments()</code> to connect two vectors of data:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Before and after data</span>
before &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">2.1</span>, <span class="fl">3.5</span>, <span class="fl">1.8</span>, <span class="fl">4.2</span>, <span class="fl">2.4</span>, <span class="fl">3.9</span>, <span class="fl">2.1</span>, <span class="fl">4.4</span>)
after &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">7.5</span>, <span class="fl">5.1</span>, <span class="fl">6.9</span>, <span class="fl">3.6</span>, <span class="fl">7.5</span>, <span class="fl">5.2</span>, <span class="fl">6.1</span>, <span class="fl">7.3</span>)

<span class="co"># Create plotting space and before scores</span>
<span class="kw">plot</span>(<span class="dt">x =</span> <span class="kw">rep</span>(<span class="dv">1</span>, <span class="kw">length</span>(before)), 
     <span class="dt">y =</span> before, 
     <span class="dt">xlim =</span> <span class="kw">c</span>(.<span class="dv">5</span>, <span class="fl">2.5</span>), 
     <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">11</span>),
     <span class="dt">ylab =</span> <span class="st">&quot;Score&quot;</span>, 
     <span class="dt">xlab =</span> <span class="st">&quot;Time&quot;</span>,
     <span class="dt">main =</span> <span class="st">&quot;Using segments() to connect points&quot;</span>, 
     <span class="dt">xaxt =</span> <span class="st">&quot;n&quot;</span>)

<span class="co"># Add after scores</span>
<span class="kw">points</span>(<span class="dt">x =</span> <span class="kw">rep</span>(<span class="dv">2</span>, <span class="kw">length</span>(after)), <span class="dt">y =</span> after)

<span class="co"># Add connections with segments()</span>
<span class="kw">segments</span>(<span class="dt">x0 =</span> <span class="kw">rep</span>(<span class="dv">1</span>, <span class="kw">length</span>(before)), 
         <span class="dt">y0 =</span> before, 
         <span class="dt">x1 =</span> <span class="kw">rep</span>(<span class="dv">2</span>, <span class="kw">length</span>(after)), 
         <span class="dt">y1 =</span> after, 
         <span class="dt">col =</span> <span class="kw">gray</span>(<span class="dv">0</span>, .<span class="dv">5</span>))

<span class="co"># Add labels</span>
<span class="kw">mtext</span>(<span class="dt">text =</span> <span class="kw">c</span>(<span class="st">&quot;Before&quot;</span>, <span class="st">&quot;After&quot;</span>), 
      <span class="dt">side =</span> <span class="dv">1</span>, <span class="dt">at =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="dt">line =</span> <span class="dv">1</span>)</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:segments"></span>
<img src="YaRrr_files/figure-html/segments-1.png" alt="Connecting points with segments()." width="672" />
<p class="caption">
Figure 11.10: Connecting points with segments().
</p>
</div>
</div>
<div id="text" class="section level3">
<h3><span class="header-section-number">11.7.4</span> <code>text()</code></h3>
<table style="width:90%;">
<caption><span id="tab:textarguments">Table 11.10: </span> Arguments to <code>text()</code></caption>
<colgroup>
<col width="15%" />
<col width="75%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Argument</th>
<th align="left">Outcome</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>x</code>, <code>y</code></td>
<td align="left">Coordinates of the labels</td>
</tr>
<tr class="even">
<td align="left"><code>labels</code></td>
<td align="left">Labels to be plotted</td>
</tr>
<tr class="odd">
<td align="left"><code>cex</code></td>
<td align="left">Size of the labels</td>
</tr>
<tr class="even">
<td align="left"><code>adj</code></td>
<td align="left">Horizontal text adjustment. <code>adj = 0</code> is left justified, <code>adj = .5</code> is centered, and <code>adj = 1</code> is right-justified</td>
</tr>
<tr class="odd">
<td align="left"><code>pos</code></td>
<td align="left">Position of the labels relative to the coordinates. <code>pos = 1</code>, puts the label below the coordinates, while 2, 3, and 4 put it to the left, top and right of the coordinates respectively</td>
</tr>
</tbody>
</table>
<p>With <code>text()</code>, you can add text to a plot. You can use <code>text()</code> to highlight specific points of interest in the plot, or to add information (like a third variable) for every point in a plot. For example, the following code adds the three words “Put”, “Text”, and “Here” at the coordinates (1, 9), (5, 5), and (9, 1) respectively. See Figure <a href="plotting1.html#fig:puttexthere">11.11</a> for the plot:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(<span class="dv">1</span>, 
     <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">10</span>), 
     <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">10</span>), 
     <span class="dt">type =</span> <span class="st">&quot;n&quot;</span>)

<span class="kw">text</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">9</span>),
     <span class="dt">y =</span> <span class="kw">c</span>(<span class="dv">9</span>, <span class="dv">5</span>, <span class="dv">1</span>),
     <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Put&quot;</span>, <span class="st">&quot;text&quot;</span>, <span class="st">&quot;here&quot;</span>))</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:puttexthere"></span>
<img src="YaRrr_files/figure-html/puttexthere-1.png" alt="Adding text to a plot with text()" width="672" />
<p class="caption">
Figure 11.11: Adding text to a plot with text()
</p>
</div>
<p>You can do some cool things with <code>text()</code>, in Figure <a href="plotting1.html#fig:textlabels">11.12</a> I create a scatterplot of data, and add data labels above each point by including the <code>pos = 3</code> argument:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create data vectors</span>
height &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">156</span>, <span class="dv">175</span>, <span class="dv">160</span>, <span class="dv">172</span>, <span class="dv">159</span>, <span class="dv">165</span>, <span class="dv">178</span>)
weight &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">65</span>, <span class="dv">74</span>, <span class="dv">69</span>, <span class="dv">72</span>, <span class="dv">66</span>, <span class="dv">75</span>, <span class="dv">75</span>)
id &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;andrew&quot;</span>, <span class="st">&quot;heidi&quot;</span>, <span class="st">&quot;becki&quot;</span>, <span class="st">&quot;madisen&quot;</span>, <span class="st">&quot;david&quot;</span>, <span class="st">&quot;vincent&quot;</span>, <span class="st">&quot;jack&quot;</span>)

<span class="co"># Plot data</span>
<span class="kw">plot</span>(<span class="dt">x =</span> height, 
     <span class="dt">y =</span> weight, 
     <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">155</span>, <span class="dv">180</span>), 
     <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">65</span>, <span class="dv">80</span>), 
     <span class="dt">pch =</span> <span class="dv">16</span>,
     <span class="dt">col =</span> yarrr::<span class="kw">piratepal</span>(<span class="st">&quot;xmen&quot;</span>))

<span class="co"># Add id labels</span>
<span class="kw">text</span>(<span class="dt">x =</span> height, 
     <span class="dt">y =</span> weight,
     <span class="dt">labels =</span> id, 
     <span class="dt">pos =</span> <span class="dv">3</span>)            <span class="co"># Put labels above the points</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:textlabels"></span>
<img src="YaRrr_files/figure-html/textlabels-1.png" alt="Adding labels to points with text()" width="672" />
<p class="caption">
Figure 11.12: Adding labels to points with text()
</p>
</div>
<p>When entering text in the <code>labels</code> argument, keep in mind that R will, by default, plot the entire text in one line. However, if you are adding a long text string (like a sentence), you may want to separate the text into separate lines. To do this, add the text <code>\n</code> where you want new lines to start. Look at Figure <a href="plotting1.html#fig:manylines">11.13</a> for an example.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(<span class="dv">1</span>, 
     <span class="dt">type =</span> <span class="st">&quot;n&quot;</span>, 
     <span class="dt">main =</span> <span class="st">&quot;The </span><span class="ch">\\</span><span class="st">n tag&quot;</span>,
     <span class="dt">xlab =</span> <span class="st">&quot;&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;&quot;</span>)

<span class="co"># Text without \n breaks</span>
<span class="kw">text</span>(<span class="dt">x =</span> <span class="dv">1</span>, <span class="dt">y =</span> <span class="fl">1.3</span>, <span class="dt">labels =</span> <span class="st">&quot;Text without </span><span class="ch">\\</span><span class="st">n&quot;</span>, <span class="dt">font =</span> <span class="dv">2</span>)
<span class="kw">text</span>(<span class="dt">x =</span> <span class="dv">1</span>, <span class="dt">y =</span> <span class="fl">1.2</span>,
     <span class="dt">labels =</span> <span class="st">&quot;Haikus are easy. But sometimes they don&#39;t make sense. Refrigerator&quot;</span>,
     <span class="dt">font =</span> <span class="dv">3</span>) <span class="co"># italic font</span>

<span class="kw">abline</span>(<span class="dt">h =</span> <span class="dv">1</span>, <span class="dt">lty =</span> <span class="dv">2</span>)
<span class="co"># Text with \n breaks</span>
<span class="kw">text</span>(<span class="dt">x =</span> <span class="dv">1</span>, <span class="dt">y =</span> .<span class="dv">92</span>, <span class="dt">labels =</span> <span class="st">&quot;Text with </span><span class="ch">\\</span><span class="st">n&quot;</span>, <span class="dt">font =</span> <span class="dv">2</span>)
<span class="kw">text</span>(<span class="dt">x =</span> <span class="dv">1</span>, <span class="dt">y =</span> .<span class="dv">7</span>,
     <span class="dt">labels =</span> <span class="st">&quot;Haikus are easy</span><span class="ch">\n</span><span class="st">But sometimes they don&#39;t make sense</span><span class="ch">\n</span><span class="st">Refrigerator&quot;</span>,
     <span class="dt">font =</span> <span class="dv">3</span>)   <span class="co"># italic font</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:manylines"></span>
<img src="YaRrr_files/figure-html/manylines-1.png" alt="Break up lines in text with \n." width="672" />
<p class="caption">
Figure 11.13: Break up lines in text with .
</p>
</div>
</div>
<div id="combining-text-and-numbers-with-paste" class="section level3">
<h3><span class="header-section-number">11.7.5</span> Combining text and numbers with <code>paste()</code></h3>
<p>A common way to use text in a plot, either in the main title of a plot or using the <code>text()</code>function, is to combine text with numerical data. For example, you may want to include the text “Mean = 3.14” in a plot to show that the mean of the data is 3.14. But how can we combine numerical data with text? In R, we can do this with the <code>paste()</code> function:</p>
<p>The paste function will be helpful to you anytime you want to combine either multiple strings, or text and strings together. For example, let’s say you want to write text in a plot that says <code>The mean of these data are XXX</code>, where XXX is replaced by the group mean. To do this, just include the main text and the object referring to the numerical mean as arguments to <code>paste()</code>. In Figure X I plot the chicken weights over time, and add text to the plot specifying the overall mean of weights.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create the plot</span>
<span class="kw">plot</span>(<span class="dt">x =</span> ChickWeight$Time,
     <span class="dt">y =</span> ChickWeight$weight, 
     <span class="dt">col =</span> <span class="kw">gray</span>(.<span class="dv">3</span>, .<span class="dv">5</span>), 
     <span class="dt">pch =</span> <span class="dv">16</span>,
     <span class="dt">main =</span> <span class="st">&quot;Combining text with numeric scalers using paste()&quot;</span>)

<span class="co"># Add reference line</span>
<span class="kw">abline</span>(<span class="dt">h =</span> <span class="kw">mean</span>(ChickWeight$weight), 
       <span class="dt">lty =</span> <span class="dv">2</span>)

<span class="co"># Add text</span>
<span class="kw">text</span>(<span class="dt">x =</span> <span class="dv">3</span>, 
     <span class="dt">y =</span> <span class="kw">mean</span>(ChickWeight$weight), 
     <span class="dt">labels =</span> <span class="kw">paste</span>(<span class="st">&quot;Mean weight =&quot;</span>, 
                    <span class="kw">round</span>(<span class="kw">mean</span>(ChickWeight$weight), <span class="dv">2</span>)),
     <span class="dt">pos =</span> <span class="dv">3</span>)</code></pre></div>
<p><img src="YaRrr_files/figure-html/unnamed-chunk-27-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="curve" class="section level3">
<h3><span class="header-section-number">11.7.6</span> <code>curve()</code></h3>
<table style="width:90%;">
<caption><span id="tab:curvearguments">Table 11.11: </span> Arguments to <code>curve()</code></caption>
<colgroup>
<col width="15%" />
<col width="75%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Argument</th>
<th align="left">Outcome</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>expr</code></td>
<td align="left">The name of a function written as a function of <code>x</code> that returns a single vector. You can either use base functions in R like <code>expr = $x^2$</code>, <code>expr = x + 4 - 2</code>, or use your own custom functions such as <code>expr = my.fun</code>, where <code>my.fun</code> is previously defined (e.g.; <code>my.fun &lt;- function(x) {dnorm(x, mean = 10, sd = 3)</code>)</td>
</tr>
<tr class="even">
<td align="left"><code>from, to</code></td>
<td align="left">The starting (<code>from</code>) and ending (<code>to</code>) value of x to be plotted.</td>
</tr>
<tr class="odd">
<td align="left"><code>add</code></td>
<td align="left">A logical value indicating whether or not to add the curve to an existing plot. If <code>add = FALSE</code>, then <code>curve()</code> will act like a high-level plotting function and create a new plot. If <code>add = TRUE</code>, then <code>curve()</code> will act like a low-level plotting function.</td>
</tr>
<tr class="even">
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left"><code>lty, lwd, col</code></td>
<td align="left">Additional starndard line arguments</td>
</tr>
</tbody>
</table>
<p>The <code>curve()</code> function allows you to add a line showing a specific function or equation to a plot. For example, to add the function <span class="math inline">\(x^2\)</span> to a plot from the x-values -10 to 10, you can run the code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Plot the function x^2 from -10 to +10</span>
<span class="kw">curve</span>(<span class="dt">expr =</span> x^<span class="dv">2</span>, 
      <span class="dt">from =</span> -<span class="dv">10</span>, 
      <span class="dt">to =</span> <span class="dv">10</span>, <span class="dt">lwd =</span> <span class="dv">2</span>)</code></pre></div>
<p><img src="YaRrr_files/figure-html/unnamed-chunk-28-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>If you want to add a custom function to a plot, you can define the function and then use that function name as the argument to <code>expr</code>. For example, to plot the normal distribution with a mean of 10 and standard deviation of 3, you can use this code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Plot the normal distribution with mean = 22 and sd = 3</span>

<span class="co"># Create a function</span>
my.fun &lt;-<span class="st"> </span>function(x) {<span class="kw">dnorm</span>(x, <span class="dt">mean =</span> <span class="dv">2</span>, <span class="dt">sd =</span> <span class="dv">3</span>)}

<span class="kw">curve</span>(<span class="dt">expr =</span> my.fun, 
      <span class="dt">from =</span> -<span class="dv">10</span>, 
      <span class="dt">to =</span> <span class="dv">10</span>, <span class="dt">lwd =</span> <span class="dv">2</span>)</code></pre></div>
<p><img src="YaRrr_files/figure-html/unnamed-chunk-29-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>In Figure~<a href="plotting1.html#fig:functionlines">11.14</a>, I use the <code>curve()</code> function to create curves of several mathematical formulas.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create plotting space</span>
<span class="kw">plot</span>(<span class="dv">1</span>, 
     <span class="dt">xlim =</span> <span class="kw">c</span>(-<span class="dv">5</span>, <span class="dv">5</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(-<span class="dv">5</span>, <span class="dv">5</span>),
     <span class="dt">type =</span> <span class="st">&quot;n&quot;</span>, 
     <span class="dt">main =</span> <span class="st">&quot;Plotting function lines with curve()&quot;</span>,
     <span class="dt">ylab =</span> <span class="st">&quot;&quot;</span>, <span class="dt">xlab =</span> <span class="st">&quot;&quot;</span>)

<span class="co"># Add x and y-axis lines</span>
<span class="kw">abline</span>(<span class="dt">h =</span> <span class="dv">0</span>)
<span class="kw">abline</span>(<span class="dt">v =</span> <span class="dv">0</span>)

<span class="co"># set up colors</span>
col.vec &lt;-<span class="st"> </span><span class="kw">piratepal</span>(<span class="st">&quot;google&quot;</span>)

<span class="co"># x ^ 2</span>
<span class="kw">curve</span>(<span class="dt">expr =</span> x^<span class="dv">2</span>, <span class="dt">from =</span> -<span class="dv">5</span>, <span class="dt">to =</span> <span class="dv">5</span>,
      <span class="dt">add =</span> <span class="ot">TRUE</span>, <span class="dt">lwd =</span> <span class="dv">3</span>, <span class="dt">col =</span> col.vec[<span class="dv">1</span>])

<span class="co"># sin(x)</span>
<span class="kw">curve</span>(<span class="dt">expr =</span> sin, <span class="dt">from =</span> -<span class="dv">5</span>, <span class="dt">to =</span> <span class="dv">5</span>,
      <span class="dt">add =</span> <span class="ot">TRUE</span>, <span class="dt">lwd =</span> <span class="dv">3</span>, <span class="dt">col =</span> col.vec[<span class="dv">2</span>])

<span class="co"># dnorm(mean = 2, sd = .2)</span>
my.fun &lt;-<span class="st"> </span>function(x) {<span class="kw">return</span>(<span class="kw">dnorm</span>(x, <span class="dt">mean =</span> <span class="dv">2</span>, <span class="dt">sd =</span> .<span class="dv">2</span>))}
<span class="kw">curve</span>(<span class="dt">expr =</span> my.fun, 
      <span class="dt">from =</span> -<span class="dv">5</span>, <span class="dt">to =</span> <span class="dv">5</span>,
      <span class="dt">add =</span> <span class="ot">TRUE</span>, 
      <span class="dt">lwd =</span> <span class="dv">3</span>, <span class="dt">col =</span> col.vec[<span class="dv">3</span>])

<span class="co"># Add legend</span>
<span class="kw">legend</span>(<span class="st">&quot;bottomright&quot;</span>,
       <span class="dt">legend =</span> <span class="kw">c</span>(<span class="st">&quot;x^2&quot;</span>, <span class="st">&quot;sin(x)&quot;</span>, <span class="st">&quot;dnorm(x, 2, .2)&quot;</span>),
       <span class="dt">col =</span> col.vec[<span class="dv">1</span>:<span class="dv">3</span>], 
       <span class="dt">lwd =</span> <span class="dv">3</span>)</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:functionlines"></span>
<img src="YaRrr_files/figure-html/functionlines-1.png" alt="Drawing function lines with curve()" width="672" />
<p class="caption">
Figure 11.14: Drawing function lines with curve()
</p>
</div>
</div>
<div id="legend" class="section level3">
<h3><span class="header-section-number">11.7.7</span> <code>legend()</code></h3>
<table style="width:90%;">
<caption><span id="tab:legendarguments">Table 11.12: </span> Arguments to <code>legend()</code></caption>
<colgroup>
<col width="15%" />
<col width="75%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Argument</th>
<th align="left">Outcome</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>x, y</code></td>
<td align="left">Coordinates of the legend - for example, <code>x = 0, y = 0</code> will put the text at the coordinates (0, 0). Alternatively, you can enter a string indicating where to put the legend (i.e.; <code>&quot;topright&quot;</code>, <code>&quot;topleft&quot;</code>). For example, <code>&quot;bottomright&quot;</code> will always put the legend at the bottom right corner of the plot.</td>
</tr>
<tr class="even">
<td align="left"><code>labels</code></td>
<td align="left">A string vector specifying the text in the legend. For example, <code>legend = c(&quot;Males, &quot;Females&quot;)</code> will create two groups with names Males and Females.</td>
</tr>
<tr class="odd">
<td align="left"><code>pch, lty, lwd, col, pt.bg, ...</code></td>
<td align="left">Additional arguments specifying symbol types (<code>pch</code>), line types (<code>lty</code>), line widths (<code>lwd</code>), background color of symbol types 21 through 25 (<code>pt.bg</code>) and several other optional arguments. See <code>?legend</code> for a complete list</td>
</tr>
</tbody>
</table>
<p>The last low-level plotting function that we’ll go over in detail is <code>legend()</code> which adds a legend to a plot. For example, to add a legend to to bottom-right of an existing graph where data from females are plotted in blue circles and data from males are plotted in pink circles, you’d use the following code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Add a legend to the bottom right of a plot</span>

<span class="kw">legend</span>(<span class="st">&quot;bottomright&quot;</span>,                  <span class="co"># Put legend in bottom right of graph</span>
       <span class="dt">legend =</span> <span class="kw">c</span>(<span class="st">&quot;Females&quot;</span>, <span class="st">&quot;Males&quot;</span>), <span class="co"># Names of groups</span>
       <span class="dt">col =</span> <span class="kw">c</span>(<span class="st">&quot;blue&quot;</span>, <span class="st">&quot;orange&quot;</span>),      <span class="co"># Colors of symbols</span>
       <span class="dt">pch =</span> <span class="kw">c</span>(<span class="dv">16</span>, <span class="dv">16</span>))                <span class="co"># Symbol types</span></code></pre></div>
<p>In Figure <a href="plotting1.html#fig:legendexample">11.15</a> I use this code to add a legend to plot containing data from males and females:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create plot with data from females</span>
<span class="kw">plot</span>(<span class="dt">x =</span> pirates$age[pirates$sex ==<span class="st"> &quot;female&quot;</span>], 
     <span class="dt">y =</span> pirates$tattoos[pirates$sex ==<span class="st"> &quot;female&quot;</span>],
     <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">50</span>),
     <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">20</span>),
     <span class="dt">pch =</span> <span class="dv">16</span>, <span class="dt">col =</span> yarrr::<span class="kw">transparent</span>(<span class="st">&quot;red&quot;</span>, .<span class="dv">7</span>),
     <span class="dt">xlab =</span> <span class="st">&quot;Age&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;Tattoos&quot;</span>, 
     <span class="dt">main =</span> <span class="st">&quot;Adding a legend with legend()&quot;</span>)

<span class="co"># Add data from males</span>
<span class="kw">points</span>(<span class="dt">x =</span> pirates$age[pirates$sex ==<span class="st"> &quot;male&quot;</span>], 
       <span class="dt">y =</span> pirates$tattoos[pirates$sex ==<span class="st"> &quot;male&quot;</span>],
       <span class="dt">pch =</span> <span class="dv">16</span>, <span class="dt">col =</span> yarrr::<span class="kw">transparent</span>(<span class="st">&quot;blue&quot;</span>, .<span class="dv">7</span>))

<span class="co"># Add legend</span>
<span class="kw">legend</span>(<span class="st">&quot;bottomright&quot;</span>,
       <span class="dt">legend =</span> <span class="kw">c</span>(<span class="st">&quot;Females&quot;</span>, <span class="st">&quot;Males&quot;</span>),
       <span class="dt">col =</span> <span class="kw">transparent</span>(<span class="kw">c</span>(<span class="st">&#39;red&#39;</span>, <span class="st">&#39;blue&#39;</span>), .<span class="dv">5</span>),
       <span class="dt">pch =</span> <span class="kw">c</span>(<span class="dv">16</span>, <span class="dv">16</span>),
       <span class="dt">bg =</span> <span class="st">&quot;white&quot;</span>)</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:legendexample"></span>
<img src="YaRrr_files/figure-html/legendexample-1.png" alt="Adding a legend to a plot with legend()." width="672" />
<p class="caption">
Figure 11.15: Adding a legend to a plot with legend().
</p>
</div>
<p>There are many more low-level plotting functions that can add additional elements to your plots. Here are some I use. To see examples of how to use each one, check out their associated help menus.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(<span class="dv">1</span>, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">100</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">100</span>),
     <span class="dt">type =</span> <span class="st">&quot;n&quot;</span>, <span class="dt">xaxt =</span> <span class="st">&quot;n&quot;</span>, <span class="dt">yaxt =</span> <span class="st">&quot;n&quot;</span>,
     <span class="dt">ylab =</span> <span class="st">&quot;&quot;</span>, <span class="dt">xlab =</span> <span class="st">&quot;&quot;</span>, <span class="dt">main =</span> <span class="st">&quot;Adding simple figures to a plot&quot;</span>)

<span class="kw">text</span>(<span class="dv">25</span>, <span class="dv">95</span>, <span class="dt">labels =</span> <span class="st">&quot;rect()&quot;</span>)
<span class="kw">rect</span>(<span class="dt">xleft =</span> <span class="dv">10</span>, <span class="dt">ybottom =</span> <span class="dv">70</span>,
     <span class="dt">xright =</span> <span class="dv">40</span>, <span class="dt">ytop =</span> <span class="dv">90</span>, <span class="dt">lwd =</span> <span class="dv">2</span>, <span class="dt">col =</span> <span class="st">&quot;coral&quot;</span>)

<span class="kw">text</span>(<span class="dv">25</span>, <span class="dv">60</span>, <span class="dt">labels =</span> <span class="st">&quot;polygon()&quot;</span>)
<span class="kw">polygon</span>(<span class="dt">x =</span> <span class="kw">runif</span>(<span class="dv">6</span>, <span class="dv">15</span>, <span class="dv">35</span>),
        <span class="dt">y =</span> <span class="kw">runif</span>(<span class="dv">6</span>, <span class="dv">40</span>, <span class="dv">55</span>),
        <span class="dt">col =</span> <span class="st">&quot;skyblue&quot;</span>)

<span class="kw">text</span>(<span class="dv">25</span>, <span class="dv">30</span>, <span class="dt">labels =</span> <span class="st">&quot;segments()&quot;</span>)
<span class="kw">segments</span>(<span class="dt">x0 =</span> <span class="kw">runif</span>(<span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">40</span>),
         <span class="dt">y0 =</span> <span class="kw">runif</span>(<span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">25</span>),
         <span class="dt">x1 =</span> <span class="kw">runif</span>(<span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">40</span>),
         <span class="dt">y1 =</span> <span class="kw">runif</span>(<span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">25</span>), 
         <span class="dt">lwd =</span> <span class="dv">2</span>)

<span class="kw">text</span>(<span class="dv">75</span>, <span class="dv">95</span>, <span class="dt">labels =</span> <span class="st">&quot;symbols(circles)&quot;</span>)
<span class="kw">symbols</span>(<span class="dt">x =</span> <span class="kw">runif</span>(<span class="dv">3</span>, <span class="dv">60</span>, <span class="dv">90</span>),
        <span class="dt">y =</span> <span class="kw">runif</span>(<span class="dv">3</span>, <span class="dv">60</span>, <span class="dv">70</span>),
        <span class="dt">circles =</span> <span class="kw">c</span>(<span class="dv">1</span>, .<span class="dv">1</span>, .<span class="dv">3</span>),
        <span class="dt">add =</span> <span class="ot">TRUE</span>, <span class="dt">bg =</span> <span class="kw">gray</span>(.<span class="dv">5</span>, .<span class="dv">1</span>))

<span class="kw">text</span>(<span class="dv">75</span>, <span class="dv">30</span>, <span class="dt">labels =</span> <span class="st">&quot;arrows()&quot;</span>)
<span class="kw">arrows</span>(<span class="dt">x0 =</span> <span class="kw">runif</span>(<span class="dv">3</span>, <span class="dv">60</span>, <span class="dv">90</span>),
       <span class="dt">y0 =</span> <span class="kw">runif</span>(<span class="dv">3</span>, <span class="dv">10</span>, <span class="dv">25</span>),
       <span class="dt">x1 =</span> <span class="kw">runif</span>(<span class="dv">3</span>, <span class="dv">60</span>, <span class="dv">90</span>),
       <span class="dt">y1 =</span> <span class="kw">runif</span>(<span class="dv">3</span>, <span class="dv">10</span>, <span class="dv">25</span>),
       <span class="dt">length =</span> .<span class="dv">1</span>, <span class="dt">lwd =</span> <span class="dv">2</span>)</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:simplefigures"></span>
<img src="YaRrr_files/figure-html/simplefigures-1.png" alt="Additional figures one can add to a plot with rect(), polygon(), segments(), symbols(), and arrows()." width="672" />
<p class="caption">
Figure 11.16: Additional figures one can add to a plot with rect(), polygon(), segments(), symbols(), and arrows().
</p>
</div>
</div>
</div>
<div id="saving-plots-to-a-file-with-pdf-jpeg-and-png" class="section level2">
<h2><span class="header-section-number">11.8</span> Saving plots to a file with <code>pdf()</code>, <code>jpeg()</code> and <code>png()</code></h2>
<p>Once you’ve created a plot in R, you may wish to save it to a file so you can use it in another document. To do this, you’ll use either the <code>pdf()</code>, <code>png()</code> or <code>jpeg()</code> functions. These functions will save your plot to either a .pdf, .jpg, or .png file.</p>
<table style="width:90%;">
<caption><span id="tab:pdfarguments">Table 11.13: </span> Arguments to <code>pdf()</code>, <code>jpeg()</code> and <code>png()</code></caption>
<colgroup>
<col width="15%" />
<col width="75%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Argument</th>
<th align="left">Outcome</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>file</code></td>
<td align="left">The directory and name of the final plot entered as a string. For example, to put a plot on my desktop, I’d write <code>file = &quot;/Users/nphillips/Desktop/plot.pdf&quot;</code> when creating a pdf, and <code>file = &quot;/Users/nphillips/Desktop/plot.jpg&quot;</code> when creating a jpeg.</td>
</tr>
<tr class="even">
<td align="left"><code>width, height</code></td>
<td align="left">The width and height of the final plot in inches.</td>
</tr>
<tr class="odd">
<td align="left"><code>dev.off()</code></td>
<td align="left">This is <em>not</em> an argument to <code>pdf()</code> and <code>jpeg()</code>. You just need to execute this code after creating the plot to finish creating the image file (see examples).</td>
</tr>
</tbody>
</table>
<p>To use these functions to save files, you need to follow 3 steps:</p>
<ol style="list-style-type: decimal">
<li>Execute the <code>pdf()</code> or <code>jpeg()</code> functions with <code>file, width, height</code> arguments.</li>
<li>Execute all your plotting code (e.g.; <code>plot(x = 1:10, y = 1:10)</code>)</li>
<li>Complete the file by executing the command <code>dev.off()</code>. This tells R that you’re done creating the file.</li>
</ol>
<p>The chunk below shows an example of the three steps in creating a pdf:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Step 1: Call the pdf command to start the plot</span>
<span class="kw">pdf</span>(<span class="dt">file =</span> <span class="st">&quot;/Users/ndphillips/Desktop/My Plot.pdf&quot;</span>,   <span class="co"># The directory you want to save the file in</span>
    <span class="dt">width =</span> <span class="dv">4</span>, <span class="co"># The width of the plot in inches</span>
    <span class="dt">height =</span> <span class="dv">4</span>) <span class="co"># The height of the plot in inches</span>

<span class="co"># Step 2: Create the plot with R code</span>
<span class="kw">plot</span>(<span class="dt">x =</span> <span class="dv">1</span>:<span class="dv">10</span>, 
     <span class="dt">y =</span> <span class="dv">1</span>:<span class="dv">10</span>)
<span class="kw">abline</span>(<span class="dt">v =</span> <span class="dv">0</span>) <span class="co"># Additional low-level plotting commands</span>
<span class="kw">text</span>(<span class="dt">x =</span> <span class="dv">0</span>, <span class="dt">y =</span> <span class="dv">1</span>, <span class="dt">labels =</span> <span class="st">&quot;Random text&quot;</span>)

<span class="co"># Step 3: Run dev.off() to create the file!</span>
<span class="kw">dev.off</span>()</code></pre></div>
<p>You’ll notice that after you close the plot with <code>dev.off()</code>, you’ll see a message in the prompt like “null device”. That’s just R telling you that you can now create plots in the main R plotting window again.</p>
<p>The functions <code>pdf()</code>, <code>jpeg()</code>, and <code>png()</code> all work the same way, they just return different file types. If you can, use <code>pdf()</code> it saves the plot in a high quality format.</p>
</div>
<div id="test-your-r-might-purdy-pictures" class="section level2">
<h2><span class="header-section-number">11.9</span> Test your R might! Purdy pictures</h2>
<p><img src="images/scarydrawing.png" width="75%" style="display: block; margin: auto;" /></p>
<ol style="list-style-type: decimal">
<li>The <code>BeardLengths</code> dataframe contains data on the lengths of beards from 3 different pirate ships. Calculate the average beard length for each ship using <code>aggregate()</code>, then create the following barplot:</li>
</ol>
<p><img src="YaRrr_files/figure-html/unnamed-chunk-31-1.png" width="672" style="display: block; margin: auto;" /></p>
<ol start="2" style="list-style-type: decimal">
<li>Now using the entire <code>BeardLengths</code> dataframe, create the following pirateplot:</li>
</ol>
<p><img src="YaRrr_files/figure-html/unnamed-chunk-32-1.png" width="672" style="display: block; margin: auto;" /></p>
<ol start="3" style="list-style-type: decimal">
<li>Using the <code>pirates</code> dataset, create the following scatterplot showing the relationship between a pirate’s age and how many parrot’s (s)he has owned (hint: to make the points solid and transparent, use <code>pch = 16</code>, and <code>col = gray(level = .5, alpha = .1)</code>).</li>
</ol>
<p><img src="YaRrr_files/figure-html/unnamed-chunk-33-1.png" width="672" style="display: block; margin: auto;" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="advanceddataframe.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="solutions.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ndphillips/ThePiratesGuideToR/edit/master/11-plotting.Rmd",
"text": "Edit"
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
